/* Generated by the Nim Compiler v2.2.1 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI654311815 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311814 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554446 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI654311803 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311802 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
NTI654311803.base = NTI33554446;
var NNI654311802 = {kind: 1, offset: "arr", len: 0, typ: NTI654311803, name: "arr", sons: null};
NTI654311802.node = NNI654311802;
NTI654311815.base = NTI33554446;
var NNI654311814 = {kind: 1, offset: "arr", len: 0, typ: NTI654311815, name: "arr", sons: null};
NTI654311814.node = NNI654311814;

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557329 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2877(ti_p2))) {
      result_33557329 = src_p1;
      }
      else {
        result_33557329 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557329 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557329 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557329 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557329 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557329, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557329 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557329 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557329 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557329[i] = nimCopy(result_33557329[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557329 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557329 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557329[i] = nimCopy(result_33557329[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557329 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557329 = src_p1;
      break;
    }

  return result_33557329;

}

function len(l_p0) {
  var result_520094782 = 0;

    result_520094782 = (l_p0.nodes).length;

  return result_520094782;

}

function clear(l_p0) {
    if (l_p0.nodes.length < 0) { for (var i = l_p0.nodes.length ; i < 0 ; ++i) l_p0.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, id: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_p0.nodes.length = 0; };

  
}

function firstChild(l_p0, item_p1) {
  var result_520094827 = 0;

  BeforeRet: {
    var l_520094828 = l_p0;
    var node_520094832 = l_520094828.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_520094832 == null))) {
    result_520094827 = node_520094832.firstChild;
    break BeforeRet;
    }
    
    result_520094827 = 0;
    break BeforeRet;
  };

  return result_520094827;

}

function lastChild(l_p0, item_p1) {
  var result_520094839 = 0;

  BeforeRet: {
    var l_520094840 = l_p0;
    var node_520094844 = l_520094840.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_520094844 == null))) {
    result_520094839 = node_520094844.lastChild;
    break BeforeRet;
    }
    
    result_520094839 = 0;
    break BeforeRet;
  };

  return result_520094839;

}

function nextSibling(l_p0, item_p1) {
  var result_520094851 = 0;

  BeforeRet: {
    var l_520094852 = l_p0;
    var node_520094856 = l_520094852.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_520094856 == null))) {
    result_520094851 = node_520094856.nextSibling;
    break BeforeRet;
    }
    
    result_520094851 = 0;
    break BeforeRet;
  };

  return result_520094851;

}

function HEX2BHEX25__system_u783(x_p0, y_p1) {
  var result_33555218 = 0;

    result_33555218 = Number(BigInt.asIntN(32, BigInt(((Number(BigInt.asUintN(32, BigInt(x_p0))) + Number(BigInt.asUintN(32, BigInt(y_p1)))) >>> 0))));

  return result_33555218;

}

function node(l_p0) {
  var result_520094874 = 0;

    var l_520094875 = l_p0;
    var len_520094879 = (l_520094875.nodes).length;
    var newLen_520094880 = HEX2BHEX25__system_u783(len_520094879, 1);
    if (l_520094875.nodes.length < newLen_520094880) { for (var i = l_520094875.nodes.length ; i < newLen_520094880 ; ++i) l_520094875.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, id: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_520094875.nodes.length = newLen_520094880; };
    l_520094875.nodes[len_520094879].id = newLen_520094880;
    result_520094874 = newLen_520094880;

  return result_520094874;

}

function setBoxFlags(l_p0, item_p1, boxFlags_p2) {
    var l_520094889 = l_p0;
    var node_520094893 = l_520094889.nodes[((item_p1 - 1) >>> 0)];
    node_520094893.boxFlags = boxFlags_p2;

  
}

function setLayoutFlags(l_p0, item_p1, layoutFlags_p2) {
    var l_520094898 = l_p0;
    var node_520094902 = l_520094898.nodes[((item_p1 - 1) >>> 0)];
    node_520094902.layoutFlags = layoutFlags_p2;

  
}

function isFatPointer__system_u2877(ti_p0) {
  var result_33557311 = false;

  BeforeRet: {
    result_33557311 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557311;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}

function setSize(l_p0, item_p1, size_p2) {
    var l_520094907 = l_p0;
    var node_520094911 = l_520094907.nodes[((item_p1 - 1) >>> 0)];
    node_520094911.size = nimCopy(node_520094911.size, size_p2, NTI654311802);

  
}

function setMargin(l_p0, item_p1, margin_p2) {
    var l_520094916 = l_p0;
    var node_520094920 = l_520094916.nodes[((item_p1 - 1) >>> 0)];
    node_520094920.margin = nimCopy(node_520094920.margin, margin_p2, NTI654311814);

  
}

function isNil__buju_u80(id_p0) {
  var result_520093778 = false;

    result_520093778 = (id_p0 == 0);

  return result_520093778;

}

function lastChild__buju_u123(l_p0, n_p1) {
  var result_520093822 = null;

  BeforeRet: {
    var id_520093823 = n_p1.lastChild;
    if (!(isNil__buju_u80(id_520093823))) {
    result_520093822 = l_p0.nodes[((id_520093823 - 1) >>> 0)];
    break BeforeRet;
    }
    
    result_520093822 = null;
    break BeforeRet;
  };

  return result_520093822;

}

function insertChild(l_p0, parentItem_p1, childItem_p2) {
    var l_520094925 = l_p0;
    var parent_520094929 = l_520094925.nodes[((parentItem_p1 - 1) >>> 0)];
    if (!(isNil__buju_u80(parent_520094929.lastChild))) {
    var lastChild_520094930 = lastChild__buju_u123(l_520094925, parent_520094929);
    lastChild_520094930.nextSibling = childItem_p2;
    var node_520094934 = l_520094925.nodes[((childItem_p2 - 1) >>> 0)];
    node_520094934.prevSibling = parent_520094929.lastChild;
    parent_520094929.lastChild = childItem_p2;
    }
    else {
      parent_520094929.firstChild = childItem_p2;
      parent_520094929.lastChild = childItem_p2;
    }
    

  
}

function removeChild(l_p0, parentItem_p1, childItem_p2) {
  BeforeRet: {
    var l_520094939 = l_p0;
    var node_520094943 = l_520094939.nodes[((childItem_p2 - 1) >>> 0)];
    var parent_520094947 = l_520094939.nodes[((parentItem_p1 - 1) >>> 0)];
    var prev_520094948 = node_520094943.prevSibling;
    var next_520094949 = node_520094943.nextSibling;
    if ((next_520094949 == prev_520094948)) {
    parent_520094947.lastChild = 0;
    parent_520094947.firstChild = 0;
    if (!(isNil__buju_u80(next_520094949))) {
    node_520094943.prevSibling = 0;
    node_520094943.nextSibling = 0;
    var sibling_520094957 = l_520094939.nodes[((next_520094949 - 1) >>> 0)];
    sibling_520094957.prevSibling = 0;
    sibling_520094957.nextSibling = 0;
    }
    
    break BeforeRet;
    }
    
    if ((parent_520094947.firstChild == childItem_p2)) {
    parent_520094947.firstChild = next_520094949;
    }
    
    if ((parent_520094947.lastChild == childItem_p2)) {
    parent_520094947.lastChild = prev_520094948;
    }
    
    if (!(isNil__buju_u80(next_520094949))) {
    var sibling_520094969 = l_520094939.nodes[((next_520094949 - 1) >>> 0)];
    sibling_520094969.prevSibling = prev_520094948;
    node_520094943.nextSibling = 0;
    }
    
    if (!(isNil__buju_u80(prev_520094948))) {
    var sibling_520094973 = l_520094939.nodes[((prev_520094948 - 1) >>> 0)];
    sibling_520094973.nextSibling = next_520094949;
    node_520094943.prevSibling = 0;
    }
    
  };

  
}

function max__system_u1192(x_p0, y_p1) {
    var Temporary1;

  var result_33555627 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555627 = Temporary1;

  return result_33555627;

}

function calcOverlayedSize__buju_u290(l_p0, n_p1) {
  var result_520093991 = 0.0;

    var needSize_520093993 = 0.0;
    Label1: {
      var child_520093994 = null;
      var id_520094997 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520094997))) break Label3;
            var node_520094999 = l_p0.nodes[((id_520094997 - 1) >>> 0)];
            id_520094997 = node_520094999.nextSibling;
            child_520093994 = node_520094999;
            var size_520093998 = ((child_520093994.computed.arr[0] + child_520093994.computed.arr[2]) + child_520093994.margin.arr[2]);
            needSize_520093993 = max__system_u1192(size_520093998, needSize_520093993);
          }
      };
    };
    result_520093991 = needSize_520093993;

  return result_520093991;

}

function calcWrappedStackedSize__buju_u319(l_p0, n_p1) {
  var result_520094020 = 0.0;

    var needSize_520094022 = 0.0;
    var needSize2_520094023 = 0.0;
    Label1: {
      var child_520094024 = null;
      var id_520095001 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095001))) break Label3;
            var node_520095003 = l_p0.nodes[((id_520095001 - 1) >>> 0)];
            id_520095001 = node_520095003.nextSibling;
            child_520094024 = node_520095003;
            if (child_520094024.isBreak) {
            needSize2_520094023 = max__system_u1192(needSize2_520094023, needSize_520094022);
            needSize_520094022 = 0.0;
            }
            
            var size_520094028 = ((child_520094024.computed.arr[0] + child_520094024.computed.arr[2]) + child_520094024.margin.arr[2]);
            needSize_520094022 = (needSize_520094022 + size_520094028);
          }
      };
    };
    result_520094020 = max__system_u1192(needSize2_520094023, needSize_520094022);

  return result_520094020;

}

function calcStackedSize__buju_u333(l_p0, n_p1) {
  var result_520094034 = 0.0;

    var needSize_520094036 = 0.0;
    Label1: {
      var child_520094037 = null;
      var id_520095005 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095005))) break Label3;
            var node_520095007 = l_p0.nodes[((id_520095005 - 1) >>> 0)];
            id_520095005 = node_520095007.nextSibling;
            child_520094037 = node_520095007;
            var size_520094041 = ((child_520094037.computed.arr[0] + child_520094037.computed.arr[2]) + child_520094037.margin.arr[2]);
            needSize_520094036 = (needSize_520094036 + size_520094041);
          }
      };
    };
    result_520094034 = needSize_520094036;

  return result_520094034;

}

function calcSize__buju_u273(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;

  BeforeRet: {
    n_p1.isBreak = false;
    Label1: {
      var child_520093975 = null;
      var id_520094993 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520094993))) break Label3;
            var node_520094995 = l_p0.nodes[((id_520094993 - 1) >>> 0)];
            id_520094993 = node_520094995.nextSibling;
            child_520093975 = node_520094995;
            calcSize__buju_u273(l_p0, child_520093975);
          }
      };
    };
    n_p1.computed.arr[0] = n_p1.margin.arr[0];
    if ((0.0 < n_p1.size.arr[0])) {
    n_p1.computed.arr[2] = n_p1.size.arr[0];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      Temporary4 = calcOverlayedSize__buju_u290(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      Temporary4 = calcWrappedStackedSize__buju_u319(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      Temporary5 = calcStackedSize__buju_u333(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u290(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u290(l_p0, n_p1);
      }
    var needSize_520094052 = Temporary4;
    n_p1.computed.arr[2] = needSize_520094052;
  };

  
}

function firstChild__buju_u98(l_p0, n_p1) {
  var result_520093797 = null;

  BeforeRet: {
    var id_520093798 = n_p1.firstChild;
    if (!(isNil__buju_u80(id_520093798))) {
    result_520093797 = l_p0.nodes[((id_520093798 - 1) >>> 0)];
    break BeforeRet;
    }
    
    result_520093797 = null;
    break BeforeRet;
  };

  return result_520093797;

}

function nextSibling__buju_u131(l_p0, n_p1) {
  var result_520093830 = null;

  BeforeRet: {
    var id_520093831 = n_p1.nextSibling;
    if (!(isNil__buju_u80(id_520093831))) {
    result_520093830 = l_p0.nodes[((id_520093831 - 1) >>> 0)];
    break BeforeRet;
    }
    
    result_520093830 = null;
    break BeforeRet;
  };

  return result_520093830;

}

function HEX2BHEX3D__buju_u441(x_p0, x_p0_Idx, y_p1) {
    x_p0[x_p0_Idx] = (x_p0[x_p0_Idx] + y_p1);

  
}

function min__system_u1159(x_p0, y_p1) {
    var Temporary1;

  var result_33555594 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555594 = Temporary1;

  return result_33555594;

}

function arrangeStacked__buju_u364(l_p0, n_p1) {
    var computed_520094068 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094070 = computed_520094068.arr[3];
    var firstChild_520094071 = firstChild__buju_u98(l_p0, n_p1);
    var maxX2_520094073 = (computed_520094068.arr[1] + space_520094070);
    var startChild_520094074 = firstChild_520094071;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094074 == null))) break Label2;
          var used_520094078 = 0.0;
          var count_520094079 = 0;
          var squeezedCount_520094080 = 0;
          var total_520094081 = 0;
          var itemCount_520094082 = 0;
          var child_520094083 = startChild_520094074;
          var endChild_520094084 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094083 == null))) break Label4;
                itemCount_520094082 += 1;
                var extend_520094095 = ((used_520094078 + child_520094083.computed.arr[1]) + child_520094083.margin.arr[3]);
                if (((((((child_520094083.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094079 += 1;
                }
                else {
                  if ((child_520094083.size.arr[1] <= 0.0)) {
                  squeezedCount_520094080 += 1;
                  }
                  
                  extend_520094095 = (extend_520094095 + child_520094083.computed.arr[3]);
                }
                
                if (((0 < total_520094081) && (space_520094070 < extend_520094095))) {
                endChild_520094084 = child_520094083;
                child_520094083.isBreak = true;
                itemCount_520094082 = 0;
                break Label3;
                }
                
                total_520094081 += 1;
                used_520094078 = extend_520094095;
                child_520094083 = nextSibling__buju_u131(l_p0, child_520094083);
              }
          };
          child_520094083 = startChild_520094074;
          startChild_520094074 = endChild_520094084;
          var extraSpace_520094118 = (space_520094070 - used_520094078);
          var filler_520094119 = 0.0;
          var spacer_520094120 = 0.0;
          var extraMargin_520094121 = 0.0;
          var eater_520094122 = 0.0;
          if ((0.0 < extraSpace_520094118)) {
          if ((0 < count_520094079)) {
          filler_520094119 = (extraSpace_520094118 / count_520094079);
          }
          else {
          if ((0 < total_520094081)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094082) || !((endChild_520094084 == null))))) {
            spacer_520094120 = (extraSpace_520094118 / (total_520094081 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094121 = extraSpace_520094118;
            }
          else{
            extraMargin_520094121 = (extraSpace_520094118 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094127 = [computed_520094068.arr[1]];
          var x1_520094128 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094083 == null)) && !((child_520094083 == endChild_520094084)))) break Label6;
                HEX2BHEX3D__buju_u441(x_520094127, 0, (child_520094083.computed.arr[1] + extraMargin_520094121));
                if (((((((child_520094083.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094128 = (x_520094127[0] + filler_520094119);
                }
                else {
                if ((0.0 < child_520094083.size.arr[1])) {
                x1_520094128 = (x_520094127[0] + child_520094083.computed.arr[3]);
                }
                else {
                  x1_520094128 = (x_520094127[0] + max__system_u1192(0.0, (child_520094083.computed.arr[3] + eater_520094122)));
                }
                }
                var ix0_520094149 = x_520094127[0];
                var ix1_520094151 = min__system_u1159((maxX2_520094073 - child_520094083.margin.arr[3]), x1_520094128);
                child_520094083.computed.arr[1] = ix0_520094149;
                child_520094083.computed.arr[3] = (ix1_520094151 - ix0_520094149);
                extraMargin_520094121 = spacer_520094120;
                x_520094127[0] = (x1_520094128 + child_520094083.margin.arr[3]);
                child_520094083 = nextSibling__buju_u131(l_p0, child_520094083);
              }
          };
        }
    };

  
}

function max__system_u1196(x_p0, y_p1) {
    var Temporary1;

  var result_33555631 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555631 = Temporary1;

  return result_33555631;

}

function min__system_u1163(x_p0, y_p1) {
    var Temporary1;

  var result_33555598 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555598 = Temporary1;

  return result_33555598;

}

function arrangeOverlaySqueezedRange__buju_u474(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094179 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094179 == null)) && !((child_520094179 == endChild_p3)))) break Label2;
          var minSize_520094189 = max__system_u1196(0.0, ((space_p5 - child_520094179.computed.arr[0]) - child_520094179.margin.arr[2]));
          if (          (((((child_520094179.layoutFlags & 31)) | 0) >> 0) & 5) == 5          ){            child_520094179.computed.arr[2] = minSize_520094189;
            }
          else if (          (((((child_520094179.layoutFlags & 31)) | 0) >> 0) & 5) == 1          ){            child_520094179.computed.arr[2] = min__system_u1163(child_520094179.computed.arr[2], minSize_520094189);
            }
          else if (          (((((child_520094179.layoutFlags & 31)) | 0) >> 0) & 5) == 4          ){            child_520094179.computed.arr[2] = min__system_u1163(child_520094179.computed.arr[2], minSize_520094189);
            child_520094179.computed.arr[0] = ((space_p5 - child_520094179.computed.arr[2]) - child_520094179.margin.arr[2]);
            }
          else{
            child_520094179.computed.arr[2] = min__system_u1163(child_520094179.computed.arr[2], minSize_520094189);
            child_520094179.computed.arr[0] = (child_520094179.computed.arr[0] + max__system_u1196(0.0, (((space_p5 - child_520094179.computed.arr[2]) / 2.0) - child_520094179.margin.arr[2])));
            }
          child_520094179.computed.arr[0] = (child_520094179.computed.arr[0] + offset_p4);
          child_520094179 = nextSibling__buju_u131(l_p0, child_520094179);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u459(l_p0, n_p1) {
  var result_520094160 = 0.0;

    var offset_520094163 = n_p1.computed.arr[0];
    var needSize_520094164 = 0.0;
    var child_520094165 = firstChild__buju_u98(l_p0, n_p1);
    var startChild_520094166 = child_520094165;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094165 == null))) break Label2;
          if (child_520094165.isBreak) {
          arrangeOverlaySqueezedRange__buju_u474(l_p0, startChild_520094166, child_520094165, offset_520094163, needSize_520094164);
          offset_520094163 = (offset_520094163 + needSize_520094164);
          startChild_520094166 = child_520094165;
          needSize_520094164 = 0.0;
          }
          
          var childSize_520094214 = ((child_520094165.computed.arr[0] + child_520094165.computed.arr[2]) + child_520094165.margin.arr[2]);
          needSize_520094164 = max__system_u1192(needSize_520094164, childSize_520094214);
          child_520094165 = nextSibling__buju_u131(l_p0, child_520094165);
        }
    };
    arrangeOverlaySqueezedRange__buju_u474(l_p0, startChild_520094166, null, offset_520094163, needSize_520094164);
    result_520094160 = (offset_520094163 + needSize_520094164);

  return result_520094160;

}

function arrangeOverlaySqueezedRange__buju_u551(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094256 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094256 == null)) && !((child_520094256 == endChild_p3)))) break Label2;
          var minSize_520094266 = max__system_u1196(0.0, ((space_p5 - child_520094256.computed.arr[1]) - child_520094256.margin.arr[3]));
          if (          (((((child_520094256.layoutFlags & 31)) | 0) >> 1) & 5) == 5          ){            child_520094256.computed.arr[3] = minSize_520094266;
            }
          else if (          (((((child_520094256.layoutFlags & 31)) | 0) >> 1) & 5) == 1          ){            child_520094256.computed.arr[3] = min__system_u1163(child_520094256.computed.arr[3], minSize_520094266);
            }
          else if (          (((((child_520094256.layoutFlags & 31)) | 0) >> 1) & 5) == 4          ){            child_520094256.computed.arr[3] = min__system_u1163(child_520094256.computed.arr[3], minSize_520094266);
            child_520094256.computed.arr[1] = ((space_p5 - child_520094256.computed.arr[3]) - child_520094256.margin.arr[3]);
            }
          else{
            child_520094256.computed.arr[3] = min__system_u1163(child_520094256.computed.arr[3], minSize_520094266);
            child_520094256.computed.arr[1] = (child_520094256.computed.arr[1] + max__system_u1196(0.0, (((space_p5 - child_520094256.computed.arr[3]) / 2.0) - child_520094256.margin.arr[3])));
            }
          child_520094256.computed.arr[1] = (child_520094256.computed.arr[1] + offset_p4);
          child_520094256 = nextSibling__buju_u131(l_p0, child_520094256);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u536(l_p0, n_p1) {
  var result_520094237 = 0.0;

    var offset_520094240 = n_p1.computed.arr[1];
    var needSize_520094241 = 0.0;
    var child_520094242 = firstChild__buju_u98(l_p0, n_p1);
    var startChild_520094243 = child_520094242;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094242 == null))) break Label2;
          if (child_520094242.isBreak) {
          arrangeOverlaySqueezedRange__buju_u551(l_p0, startChild_520094243, child_520094242, offset_520094240, needSize_520094241);
          offset_520094240 = (offset_520094240 + needSize_520094241);
          startChild_520094243 = child_520094242;
          needSize_520094241 = 0.0;
          }
          
          var childSize_520094291 = ((child_520094242.computed.arr[1] + child_520094242.computed.arr[3]) + child_520094242.margin.arr[3]);
          needSize_520094241 = max__system_u1192(needSize_520094241, childSize_520094291);
          child_520094242 = nextSibling__buju_u131(l_p0, child_520094242);
        }
    };
    arrangeOverlaySqueezedRange__buju_u551(l_p0, startChild_520094243, null, offset_520094240, needSize_520094241);
    result_520094237 = (offset_520094240 + needSize_520094241);

  return result_520094237;

}

function arrangeStacked__buju_u604(l_p0, n_p1) {
    var computed_520094308 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094310 = computed_520094308.arr[2];
    var firstChild_520094311 = firstChild__buju_u98(l_p0, n_p1);
    var maxX2_520094313 = (computed_520094308.arr[0] + space_520094310);
    var startChild_520094314 = firstChild_520094311;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094314 == null))) break Label2;
          var used_520094318 = 0.0;
          var count_520094319 = 0;
          var squeezedCount_520094320 = 0;
          var total_520094321 = 0;
          var itemCount_520094322 = 0;
          var child_520094323 = startChild_520094314;
          var endChild_520094324 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094323 == null))) break Label4;
                itemCount_520094322 += 1;
                var extend_520094335 = ((used_520094318 + child_520094323.computed.arr[0]) + child_520094323.margin.arr[2]);
                if (((((((child_520094323.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094319 += 1;
                }
                else {
                  if ((child_520094323.size.arr[0] <= 0.0)) {
                  squeezedCount_520094320 += 1;
                  }
                  
                  extend_520094335 = (extend_520094335 + child_520094323.computed.arr[2]);
                }
                
                if (((0 < total_520094321) && (space_520094310 < extend_520094335))) {
                endChild_520094324 = child_520094323;
                child_520094323.isBreak = true;
                itemCount_520094322 = 0;
                break Label3;
                }
                
                total_520094321 += 1;
                used_520094318 = extend_520094335;
                child_520094323 = nextSibling__buju_u131(l_p0, child_520094323);
              }
          };
          child_520094323 = startChild_520094314;
          startChild_520094314 = endChild_520094324;
          var extraSpace_520094358 = (space_520094310 - used_520094318);
          var filler_520094359 = 0.0;
          var spacer_520094360 = 0.0;
          var extraMargin_520094361 = 0.0;
          var eater_520094362 = 0.0;
          if ((0.0 < extraSpace_520094358)) {
          if ((0 < count_520094319)) {
          filler_520094359 = (extraSpace_520094358 / count_520094319);
          }
          else {
          if ((0 < total_520094321)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094322) || !((endChild_520094324 == null))))) {
            spacer_520094360 = (extraSpace_520094358 / (total_520094321 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094361 = extraSpace_520094358;
            }
          else{
            extraMargin_520094361 = (extraSpace_520094358 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094367 = [computed_520094308.arr[0]];
          var x1_520094368 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094323 == null)) && !((child_520094323 == endChild_520094324)))) break Label6;
                HEX2BHEX3D__buju_u441(x_520094367, 0, (child_520094323.computed.arr[0] + extraMargin_520094361));
                if (((((((child_520094323.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094368 = (x_520094367[0] + filler_520094359);
                }
                else {
                if ((0.0 < child_520094323.size.arr[0])) {
                x1_520094368 = (x_520094367[0] + child_520094323.computed.arr[2]);
                }
                else {
                  x1_520094368 = (x_520094367[0] + max__system_u1192(0.0, (child_520094323.computed.arr[2] + eater_520094362)));
                }
                }
                var ix0_520094389 = x_520094367[0];
                var ix1_520094391 = min__system_u1159((maxX2_520094313 - child_520094323.margin.arr[2]), x1_520094368);
                child_520094323.computed.arr[0] = ix0_520094389;
                child_520094323.computed.arr[2] = (ix1_520094391 - ix0_520094389);
                extraMargin_520094361 = spacer_520094360;
                x_520094367[0] = (x1_520094368 + child_520094323.margin.arr[2]);
                child_520094323 = nextSibling__buju_u131(l_p0, child_520094323);
              }
          };
        }
    };

  
}

function arrangeStacked__buju_u699(l_p0, n_p1) {
    var computed_520094403 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094405 = computed_520094403.arr[2];
    var firstChild_520094406 = firstChild__buju_u98(l_p0, n_p1);
    var startChild_520094407 = firstChild_520094406;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094407 == null))) break Label2;
          var used_520094411 = 0.0;
          var count_520094412 = 0;
          var squeezedCount_520094413 = 0;
          var total_520094414 = 0;
          var itemCount_520094415 = 0;
          var child_520094416 = startChild_520094407;
          var endChild_520094417 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094416 == null))) break Label4;
                itemCount_520094415 += 1;
                var extend_520094428 = ((used_520094411 + child_520094416.computed.arr[0]) + child_520094416.margin.arr[2]);
                if (((((((child_520094416.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094412 += 1;
                }
                else {
                  if ((child_520094416.size.arr[0] <= 0.0)) {
                  squeezedCount_520094413 += 1;
                  }
                  
                  extend_520094428 = (extend_520094428 + child_520094416.computed.arr[2]);
                }
                
                total_520094414 += 1;
                used_520094411 = extend_520094428;
                child_520094416 = nextSibling__buju_u131(l_p0, child_520094416);
              }
          };
          child_520094416 = startChild_520094407;
          startChild_520094407 = endChild_520094417;
          var extraSpace_520094451 = (space_520094405 - used_520094411);
          var filler_520094452 = 0.0;
          var spacer_520094453 = 0.0;
          var extraMargin_520094454 = 0.0;
          var eater_520094455 = 0.0;
          if ((0.0 < extraSpace_520094451)) {
          if ((0 < count_520094412)) {
          filler_520094452 = (extraSpace_520094451 / count_520094412);
          }
          else {
          if ((0 < total_520094414)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094415) || !((endChild_520094417 == null))))) {
            spacer_520094453 = (extraSpace_520094451 / (total_520094414 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094454 = extraSpace_520094451;
            }
          else{
            extraMargin_520094454 = (extraSpace_520094451 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_520094451 < 0.0) && (0 < squeezedCount_520094413))) {
            eater_520094455 = (extraSpace_520094451 / squeezedCount_520094413);
            }
            
          }
          
          var x_520094460 = [computed_520094403.arr[0]];
          var x1_520094461 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094416 == null)) && !((child_520094416 == endChild_520094417)))) break Label6;
                HEX2BHEX3D__buju_u441(x_520094460, 0, (child_520094416.computed.arr[0] + extraMargin_520094454));
                if (((((((child_520094416.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094461 = (x_520094460[0] + filler_520094452);
                }
                else {
                if ((0.0 < child_520094416.size.arr[0])) {
                x1_520094461 = (x_520094460[0] + child_520094416.computed.arr[2]);
                }
                else {
                  x1_520094461 = (x_520094460[0] + max__system_u1192(0.0, (child_520094416.computed.arr[2] + eater_520094455)));
                }
                }
                var ix0_520094482 = x_520094460[0];
                var ix1_520094483 = x1_520094461;
                child_520094416.computed.arr[0] = ix0_520094482;
                child_520094416.computed.arr[2] = (ix1_520094483 - ix0_520094482);
                extraMargin_520094454 = spacer_520094453;
                x_520094460[0] = (x1_520094461 + child_520094416.margin.arr[2]);
                child_520094416 = nextSibling__buju_u131(l_p0, child_520094416);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u801(l_p0, n_p1) {
    var offset_520094504 = n_p1.computed.arr[0];
    var space_520094506 = n_p1.computed.arr[2];
    Label1: {
      var child_520094507 = null;
      var id_520095030 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095030))) break Label3;
            var node_520095032 = l_p0.nodes[((id_520095030 - 1) >>> 0)];
            id_520095030 = node_520095032.nextSibling;
            child_520094507 = node_520095032;
            if (            (((((child_520094507.layoutFlags & 31)) | 0) >> 0) & 5) == 5            ){              child_520094507.computed.arr[2] = max__system_u1192(0.0, ((space_520094506 - child_520094507.computed.arr[0]) - child_520094507.margin.arr[2]));
              }
            else if (            (((((child_520094507.layoutFlags & 31)) | 0) >> 0) & 5) == 4            ){              child_520094507.computed.arr[0] = ((((child_520094507.computed.arr[0] + space_520094506) - child_520094507.computed.arr[2]) - child_520094507.margin.arr[0]) - child_520094507.margin.arr[2]);
              }
            else if (            (((((child_520094507.layoutFlags & 31)) | 0) >> 0) & 5) == 1            ){              }
            else{
              child_520094507.computed.arr[0] = (child_520094507.computed.arr[0] + max__system_u1192(0.0, (((space_520094506 - child_520094507.computed.arr[2]) / 2.0) - child_520094507.margin.arr[2])));
              }
            child_520094507.computed.arr[0] = (child_520094507.computed.arr[0] + offset_520094504);
          }
      };
    };

  
}

function arrange__buju_u358(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (false) {
      arrangeStacked__buju_u364(l_p0, n_p1);
      var offset_520094223 = arrangeWrappedOverlaySqueezed__buju_u459(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094223 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094226 = null;
        var id_520095009 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u80(id_520095009))) break Label3;
              var node_520095011 = l_p0.nodes[((id_520095009 - 1) >>> 0)];
              id_520095009 = node_520095011.nextSibling;
              child_520094226 = node_520095011;
              arrange__buju_u358(l_p0, child_520094226);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (false) {
      (arrangeWrappedOverlaySqueezed__buju_u536(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u604(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      arrangeStacked__buju_u699(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u474(l_p0, firstChild__buju_u98(l_p0, n_p1), null, n_p1.computed.arr[0], n_p1.computed.arr[2]);
      }
      
      }
    else{
      arrangeOverlay__buju_u801(l_p0, n_p1);
      }
    Label4: {
      var child_520094527 = null;
      var id_520095013 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u80(id_520095013))) break Label6;
            var node_520095015 = l_p0.nodes[((id_520095013 - 1) >>> 0)];
            id_520095013 = node_520095015.nextSibling;
            child_520094527 = node_520095015;
            arrange__buju_u358(l_p0, child_520094527);
          }
      };
    };
  };

  
}

function calcStackedSize__buju_u854(l_p0, n_p1) {
  var result_520094555 = 0.0;

    var needSize_520094557 = 0.0;
    Label1: {
      var child_520094558 = null;
      var id_520095038 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095038))) break Label3;
            var node_520095040 = l_p0.nodes[((id_520095038 - 1) >>> 0)];
            id_520095038 = node_520095040.nextSibling;
            child_520094558 = node_520095040;
            var size_520094562 = ((child_520094558.computed.arr[1] + child_520094558.computed.arr[3]) + child_520094558.margin.arr[3]);
            needSize_520094557 = (needSize_520094557 + size_520094562);
          }
      };
    };
    result_520094555 = needSize_520094557;

  return result_520094555;

}

function calcWrappedOverlayedSize__buju_u867(l_p0, n_p1) {
  var result_520094568 = 0.0;

    var needSize_520094570 = 0.0;
    var needSize2_520094571 = 0.0;
    Label1: {
      var child_520094572 = null;
      var id_520095042 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095042))) break Label3;
            var node_520095044 = l_p0.nodes[((id_520095042 - 1) >>> 0)];
            id_520095042 = node_520095044.nextSibling;
            child_520094572 = node_520095044;
            if (child_520094572.isBreak) {
            needSize2_520094571 = (needSize2_520094571 + needSize_520094570);
            needSize_520094570 = 0.0;
            }
            
            var size_520094576 = ((child_520094572.computed.arr[1] + child_520094572.computed.arr[3]) + child_520094572.margin.arr[3]);
            needSize_520094570 = max__system_u1192(needSize_520094570, size_520094576);
          }
      };
    };
    result_520094568 = (needSize_520094570 + needSize2_520094571);

  return result_520094568;

}

function calcOverlayedSize__buju_u886(l_p0, n_p1) {
  var result_520094587 = 0.0;

    var needSize_520094589 = 0.0;
    Label1: {
      var child_520094590 = null;
      var id_520095046 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095046))) break Label3;
            var node_520095048 = l_p0.nodes[((id_520095046 - 1) >>> 0)];
            id_520095046 = node_520095048.nextSibling;
            child_520094590 = node_520095048;
            var size_520094594 = ((child_520094590.computed.arr[1] + child_520094590.computed.arr[3]) + child_520094590.margin.arr[3]);
            needSize_520094589 = max__system_u1192(size_520094594, needSize_520094589);
          }
      };
    };
    result_520094587 = needSize_520094589;

  return result_520094587;

}

function calcSize__buju_u837(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;

  BeforeRet: {
    Label1: {
      var child_520094539 = null;
      var id_520095034 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095034))) break Label3;
            var node_520095036 = l_p0.nodes[((id_520095034 - 1) >>> 0)];
            id_520095034 = node_520095036.nextSibling;
            child_520094539 = node_520095036;
            calcSize__buju_u837(l_p0, child_520094539);
          }
      };
    };
    n_p1.computed.arr[1] = n_p1.margin.arr[1];
    if ((0.0 < n_p1.size.arr[1])) {
    n_p1.computed.arr[3] = n_p1.size.arr[1];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      Temporary4 = calcStackedSize__buju_u854(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      Temporary4 = calcWrappedOverlayedSize__buju_u867(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      Temporary5 = calcStackedSize__buju_u854(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u886(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u886(l_p0, n_p1);
      }
    var needSize_520094600 = Temporary4;
    n_p1.computed.arr[3] = needSize_520094600;
  };

  
}

function arrangeStacked__buju_u945(l_p0, n_p1) {
    var computed_520094649 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094651 = computed_520094649.arr[3];
    var firstChild_520094652 = firstChild__buju_u98(l_p0, n_p1);
    var startChild_520094653 = firstChild_520094652;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094653 == null))) break Label2;
          var used_520094657 = 0.0;
          var count_520094658 = 0;
          var squeezedCount_520094659 = 0;
          var total_520094660 = 0;
          var itemCount_520094661 = 0;
          var child_520094662 = startChild_520094653;
          var endChild_520094663 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094662 == null))) break Label4;
                itemCount_520094661 += 1;
                var extend_520094674 = ((used_520094657 + child_520094662.computed.arr[1]) + child_520094662.margin.arr[3]);
                if (((((((child_520094662.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094658 += 1;
                }
                else {
                  if ((child_520094662.size.arr[1] <= 0.0)) {
                  squeezedCount_520094659 += 1;
                  }
                  
                  extend_520094674 = (extend_520094674 + child_520094662.computed.arr[3]);
                }
                
                total_520094660 += 1;
                used_520094657 = extend_520094674;
                child_520094662 = nextSibling__buju_u131(l_p0, child_520094662);
              }
          };
          child_520094662 = startChild_520094653;
          startChild_520094653 = endChild_520094663;
          var extraSpace_520094697 = (space_520094651 - used_520094657);
          var filler_520094698 = 0.0;
          var spacer_520094699 = 0.0;
          var extraMargin_520094700 = 0.0;
          var eater_520094701 = 0.0;
          if ((0.0 < extraSpace_520094697)) {
          if ((0 < count_520094658)) {
          filler_520094698 = (extraSpace_520094697 / count_520094658);
          }
          else {
          if ((0 < total_520094660)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094661) || !((endChild_520094663 == null))))) {
            spacer_520094699 = (extraSpace_520094697 / (total_520094660 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094700 = extraSpace_520094697;
            }
          else{
            extraMargin_520094700 = (extraSpace_520094697 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_520094697 < 0.0) && (0 < squeezedCount_520094659))) {
            eater_520094701 = (extraSpace_520094697 / squeezedCount_520094659);
            }
            
          }
          
          var x_520094706 = [computed_520094649.arr[1]];
          var x1_520094707 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094662 == null)) && !((child_520094662 == endChild_520094663)))) break Label6;
                HEX2BHEX3D__buju_u441(x_520094706, 0, (child_520094662.computed.arr[1] + extraMargin_520094700));
                if (((((((child_520094662.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094707 = (x_520094706[0] + filler_520094698);
                }
                else {
                if ((0.0 < child_520094662.size.arr[1])) {
                x1_520094707 = (x_520094706[0] + child_520094662.computed.arr[3]);
                }
                else {
                  x1_520094707 = (x_520094706[0] + max__system_u1192(0.0, (child_520094662.computed.arr[3] + eater_520094701)));
                }
                }
                var ix0_520094728 = x_520094706[0];
                var ix1_520094729 = x1_520094707;
                child_520094662.computed.arr[1] = ix0_520094728;
                child_520094662.computed.arr[3] = (ix1_520094729 - ix0_520094728);
                extraMargin_520094700 = spacer_520094699;
                x_520094706[0] = (x1_520094707 + child_520094662.margin.arr[3]);
                child_520094662 = nextSibling__buju_u131(l_p0, child_520094662);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u1047(l_p0, n_p1) {
    var offset_520094750 = n_p1.computed.arr[1];
    var space_520094752 = n_p1.computed.arr[3];
    Label1: {
      var child_520094753 = null;
      var id_520095061 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u80(id_520095061))) break Label3;
            var node_520095063 = l_p0.nodes[((id_520095061 - 1) >>> 0)];
            id_520095061 = node_520095063.nextSibling;
            child_520094753 = node_520095063;
            if (            (((((child_520094753.layoutFlags & 31)) | 0) >> 1) & 5) == 5            ){              child_520094753.computed.arr[3] = max__system_u1192(0.0, ((space_520094752 - child_520094753.computed.arr[1]) - child_520094753.margin.arr[3]));
              }
            else if (            (((((child_520094753.layoutFlags & 31)) | 0) >> 1) & 5) == 4            ){              child_520094753.computed.arr[1] = ((((child_520094753.computed.arr[1] + space_520094752) - child_520094753.computed.arr[3]) - child_520094753.margin.arr[1]) - child_520094753.margin.arr[3]);
              }
            else if (            (((((child_520094753.layoutFlags & 31)) | 0) >> 1) & 5) == 1            ){              }
            else{
              child_520094753.computed.arr[1] = (child_520094753.computed.arr[1] + max__system_u1192(0.0, (((space_520094752 - child_520094753.computed.arr[3]) / 2.0) - child_520094753.margin.arr[3])));
              }
            child_520094753.computed.arr[1] = (child_520094753.computed.arr[1] + offset_520094750);
          }
      };
    };

  
}

function arrange__buju_u906(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (true) {
      arrangeStacked__buju_u364(l_p0, n_p1);
      var offset_520094620 = arrangeWrappedOverlaySqueezed__buju_u459(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094620 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094623 = null;
        var id_520095050 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u80(id_520095050))) break Label3;
              var node_520095052 = l_p0.nodes[((id_520095050 - 1) >>> 0)];
              id_520095050 = node_520095052.nextSibling;
              child_520094623 = node_520095052;
              arrange__buju_u358(l_p0, child_520094623);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (true) {
      (arrangeWrappedOverlaySqueezed__buju_u536(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u604(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      arrangeStacked__buju_u945(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u551(l_p0, firstChild__buju_u98(l_p0, n_p1), null, n_p1.computed.arr[1], n_p1.computed.arr[3]);
      }
      
      }
    else{
      arrangeOverlay__buju_u1047(l_p0, n_p1);
      }
    Label4: {
      var child_520094773 = null;
      var id_520095054 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u80(id_520095054))) break Label6;
            var node_520095056 = l_p0.nodes[((id_520095054 - 1) >>> 0)];
            id_520095054 = node_520095056.nextSibling;
            child_520094773 = node_520095056;
            arrange__buju_u906(l_p0, child_520094773);
          }
      };
    };
  };

  
}

function compute__buju_u268(l_p0, n_p1) {
    calcSize__buju_u273(l_p0, n_p1);
    arrange__buju_u358(l_p0, n_p1);
    calcSize__buju_u837(l_p0, n_p1);
    arrange__buju_u906(l_p0, n_p1);

  
}

function compute(l_p0, item_p1) {
    var l_520094977 = l_p0;
    var node_520094981 = l_520094977.nodes[((item_p1 - 1) >>> 0)];
    compute__buju_u268(l_520094977, node_520094981);

  
}

function computed(l_p0, item_p1) {
  var result_520094985 = ({arr: new Float32Array(4)});

    var l_520094986 = l_p0;
    var node_520094990 = l_520094986.nodes[((item_p1 - 1) >>> 0)];
    result_520094985 = nimCopy(result_520094985, node_520094990.computed, NTI654311814);

  return result_520094985;

}
