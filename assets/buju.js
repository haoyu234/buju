/* Generated by the Nim Compiler v2.3.1 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI671089031 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI671089030 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554446 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI671089019 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI671089018 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
NTI671089019.base = NTI33554446;
var NNI671089018 = {kind: 1, offset: "arr", len: 0, typ: NTI671089019, name: "arr", sons: null};
NTI671089018.node = NNI671089018;
NTI671089031.base = NTI33554446;
var NNI671089030 = {kind: 1, offset: "arr", len: 0, typ: NTI671089031, name: "arr", sons: null};
NTI671089030.node = NNI671089030;

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557329 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2877(ti_p2))) {
      result_33557329 = src_p1;
      }
      else {
        result_33557329 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557329 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557329 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557329 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557329 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557329, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557329 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557329 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557329 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557329[i] = nimCopy(result_33557329[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557329 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557329 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557329[i] = nimCopy(result_33557329[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557329 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557329 = src_p1;
      break;
    }

  return result_33557329;

}

function len(l_p0) {
  var result_536872003 = 0;

    result_536872003 = (l_p0.nodes).length;

  return result_536872003;

}

function clear(l_p0) {
    if (l_p0.nodes.length < 0) { for (var i = l_p0.nodes.length ; i < 0 ; ++i) l_p0.nodes.push(({isBreak: false, isSkipXAxis: false, boxFlags: 0, layoutFlags: 0, id: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)}), childOffset: 0, childCount: 0})); }
               else { l_p0.nodes.length = 0; };

  
}

function firstChild(l_p0, item_p1) {
  var result_536872049 = 0;

  BeforeRet: {
    var l_536872050 = l_p0;
    var node_536872054 = l_536872050.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_536872054 == null))) {
    result_536872049 = node_536872054.firstChild;
    break BeforeRet;
    }
    
    result_536872049 = 0;
    break BeforeRet;
  };

  return result_536872049;

}

function lastChild(l_p0, item_p1) {
  var result_536872061 = 0;

  BeforeRet: {
    var l_536872062 = l_p0;
    var node_536872066 = l_536872062.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_536872066 == null))) {
    result_536872061 = node_536872066.lastChild;
    break BeforeRet;
    }
    
    result_536872061 = 0;
    break BeforeRet;
  };

  return result_536872061;

}

function nextSibling(l_p0, item_p1) {
  var result_536872073 = 0;

  BeforeRet: {
    var l_536872074 = l_p0;
    var node_536872078 = l_536872074.nodes[((item_p1 - 1) >>> 0)];
    if (!((node_536872078 == null))) {
    result_536872073 = node_536872078.nextSibling;
    break BeforeRet;
    }
    
    result_536872073 = 0;
    break BeforeRet;
  };

  return result_536872073;

}

function HEX2BHEX25__system_u783(x_p0, y_p1) {
  var result_33555218 = 0;

    result_33555218 = Number(BigInt.asIntN(32, BigInt(((Number(BigInt.asUintN(32, BigInt(x_p0))) + Number(BigInt.asUintN(32, BigInt(y_p1)))) >>> 0))));

  return result_33555218;

}

function node(l_p0) {
  var result_536872096 = 0;

    var l_536872097 = l_p0;
    var len_536872101 = (l_536872097.nodes).length;
    var newLen_536872102 = HEX2BHEX25__system_u783(len_536872101, 1);
    if (l_536872097.nodes.length < newLen_536872102) { for (var i = l_536872097.nodes.length ; i < newLen_536872102 ; ++i) l_536872097.nodes.push(({isBreak: false, isSkipXAxis: false, boxFlags: 0, layoutFlags: 0, id: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)}), childOffset: 0, childCount: 0})); }
               else { l_536872097.nodes.length = newLen_536872102; };
    l_536872097.nodes[len_536872101].id = newLen_536872102;
    result_536872096 = newLen_536872102;

  return result_536872096;

}

function setBoxFlags(l_p0, item_p1, boxFlags_p2) {
    var l_536872111 = l_p0;
    var node_536872115 = l_536872111.nodes[((item_p1 - 1) >>> 0)];
    node_536872115.boxFlags = boxFlags_p2;

  
}

function setLayoutFlags(l_p0, item_p1, layoutFlags_p2) {
    var l_536872120 = l_p0;
    var node_536872124 = l_536872120.nodes[((item_p1 - 1) >>> 0)];
    node_536872124.layoutFlags = layoutFlags_p2;

  
}

function isFatPointer__system_u2877(ti_p0) {
  var result_33557311 = false;

  BeforeRet: {
    result_33557311 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557311;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}

function setSize(l_p0, item_p1, size_p2) {
    var l_536872129 = l_p0;
    var node_536872133 = l_536872129.nodes[((item_p1 - 1) >>> 0)];
    node_536872133.size = nimCopy(node_536872133.size, size_p2, NTI671089018);

  
}

function setMargin(l_p0, item_p1, margin_p2) {
    var l_536872138 = l_p0;
    var node_536872142 = l_536872138.nodes[((item_p1 - 1) >>> 0)];
    node_536872142.margin = nimCopy(node_536872142.margin, margin_p2, NTI671089030);

  
}

function isNil__buju_u84(id_p0) {
  var result_536870998 = false;

    result_536870998 = (id_p0 == 0);

  return result_536870998;

}

function lastChild__buju_u127(l_p0, n_p1) {
  var result_536871042 = null;

  BeforeRet: {
    var id_536871043 = n_p1.lastChild;
    if (!(isNil__buju_u84(id_536871043))) {
    result_536871042 = l_p0.nodes[((id_536871043 - 1) >>> 0)];
    break BeforeRet;
    }
    
    result_536871042 = null;
    break BeforeRet;
  };

  return result_536871042;

}

function insertChild(l_p0, parentItem_p1, childItem_p2) {
    var l_536872147 = l_p0;
    var parent_536872151 = l_536872147.nodes[((parentItem_p1 - 1) >>> 0)];
    if (!(isNil__buju_u84(parent_536872151.lastChild))) {
    var lastChild_536872152 = lastChild__buju_u127(l_536872147, parent_536872151);
    lastChild_536872152.nextSibling = childItem_p2;
    var node_536872156 = l_536872147.nodes[((childItem_p2 - 1) >>> 0)];
    node_536872156.prevSibling = parent_536872151.lastChild;
    parent_536872151.lastChild = childItem_p2;
    }
    else {
      parent_536872151.firstChild = childItem_p2;
      parent_536872151.lastChild = childItem_p2;
    }
    

  
}

function removeChild(l_p0, parentItem_p1, childItem_p2) {
  BeforeRet: {
    var l_536872161 = l_p0;
    var node_536872165 = l_536872161.nodes[((childItem_p2 - 1) >>> 0)];
    var parent_536872169 = l_536872161.nodes[((parentItem_p1 - 1) >>> 0)];
    var prev_536872170 = node_536872165.prevSibling;
    var next_536872171 = node_536872165.nextSibling;
    if ((next_536872171 == prev_536872170)) {
    parent_536872169.lastChild = 0;
    parent_536872169.firstChild = 0;
    if (!(isNil__buju_u84(next_536872171))) {
    node_536872165.prevSibling = 0;
    node_536872165.nextSibling = 0;
    var sibling_536872179 = l_536872161.nodes[((next_536872171 - 1) >>> 0)];
    sibling_536872179.prevSibling = 0;
    sibling_536872179.nextSibling = 0;
    }
    
    break BeforeRet;
    }
    
    if ((parent_536872169.firstChild == childItem_p2)) {
    parent_536872169.firstChild = next_536872171;
    }
    
    if ((parent_536872169.lastChild == childItem_p2)) {
    parent_536872169.lastChild = prev_536872170;
    }
    
    if (!(isNil__buju_u84(next_536872171))) {
    var sibling_536872191 = l_536872161.nodes[((next_536872171 - 1) >>> 0)];
    sibling_536872191.prevSibling = prev_536872170;
    node_536872165.nextSibling = 0;
    }
    
    if (!(isNil__buju_u84(prev_536872170))) {
    var sibling_536872195 = l_536872161.nodes[((prev_536872170 - 1) >>> 0)];
    sibling_536872195.nextSibling = next_536872171;
    node_536872165.prevSibling = 0;
    }
    
  };

  
}

function max__system_u1192(x_p0, y_p1) {
    var Temporary1;

  var result_33555627 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555627 = Temporary1;

  return result_33555627;

}

function calcOverlayedSize__buju_u345(l_p0, n_p1) {
  var result_536871262 = 0.0;

    var needSize_536871264 = 0.0;
    Label1: {
      var idx_536871265 = 0;
      var colontmp__536872222 = 0;
      colontmp__536872222 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872224 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872224 < colontmp__536872222)) break Label3;
            idx_536871265 = res_536872224;
            var child_536871266 = l_p0.sorted[idx_536871265];
            var size_536871270 = ((child_536871266.computed.arr[0] + child_536871266.computed.arr[2]) + child_536871266.margin.arr[2]);
            needSize_536871264 = max__system_u1192(size_536871270, needSize_536871264);
            res_536872224 = ((res_536872224 + 1) >>> 0);
          }
      };
    };
    result_536871262 = needSize_536871264;

  return result_536871262;

}

function calcWrappedStackedSize__buju_u359(l_p0, n_p1) {
  var result_536871276 = 0.0;

    var needSize_536871278 = 0.0;
    var needSize2_536871279 = 0.0;
    Label1: {
      var idx_536871280 = 0;
      var colontmp__536872227 = 0;
      colontmp__536872227 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872228 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872228 < colontmp__536872227)) break Label3;
            idx_536871280 = res_536872228;
            var child_536871281 = l_p0.sorted[idx_536871280];
            if (child_536871281.isBreak) {
            needSize2_536871279 = max__system_u1192(needSize2_536871279, needSize_536871278);
            needSize_536871278 = 0.0;
            }
            
            var size_536871285 = ((child_536871281.computed.arr[0] + child_536871281.computed.arr[2]) + child_536871281.margin.arr[2]);
            needSize_536871278 = (needSize_536871278 + size_536871285);
            res_536872228 = ((res_536872228 + 1) >>> 0);
          }
      };
    };
    result_536871276 = max__system_u1192(needSize2_536871279, needSize_536871278);

  return result_536871276;

}

function calcStackedSize__buju_u374(l_p0, n_p1) {
  var result_536871291 = 0.0;

    var needSize_536871293 = 0.0;
    Label1: {
      var idx_536871294 = 0;
      var colontmp__536872231 = 0;
      colontmp__536872231 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872232 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872232 < colontmp__536872231)) break Label3;
            idx_536871294 = res_536872232;
            var child_536871295 = l_p0.sorted[idx_536871294];
            var size_536871299 = ((child_536871295.computed.arr[0] + child_536871295.computed.arr[2]) + child_536871295.margin.arr[2]);
            needSize_536871293 = (needSize_536871293 + size_536871299);
            res_536872232 = ((res_536872232 + 1) >>> 0);
          }
      };
    };
    result_536871291 = needSize_536871293;

  return result_536871291;

}

function calcSize__buju_u325(l_p0) {
            var Temporary4;
              var Temporary5;

    var idx_536871245 = (l_p0.sorted).length;
    Label1: {
        Label2: while (true) {
        if (!(0 < idx_536871245)) break Label2;
          Label3: {
            idx_536871245 -= 1;
            var n_536871251 = l_p0.sorted[idx_536871245];
            n_536871251.computed.arr[0] = n_536871251.margin.arr[0];
            if ((0.0 < n_536871251.size.arr[0])) {
            n_536871251.computed.arr[2] = n_536871251.size.arr[0];
            break Label3;
            }
            
            if (            (((n_536871251.boxFlags & 7)) | 0) == 7            ){              Temporary4 = calcOverlayedSize__buju_u345(l_p0, n_536871251);
              }
            else if (            (((n_536871251.boxFlags & 7)) | 0) == 6            ){              Temporary4 = calcWrappedStackedSize__buju_u359(l_p0, n_536871251);
              }
            else if (            (((n_536871251.boxFlags & 7)) | 0) == 3 || 
            (((n_536871251.boxFlags & 7)) | 0) == 2            ){              if (((((n_536871251.boxFlags & 1)) | 0) == 0)) {
              Temporary5 = calcStackedSize__buju_u374(l_p0, n_536871251);
              }
              else {
              Temporary5 = calcOverlayedSize__buju_u345(l_p0, n_536871251);
              }
              
              Temporary4 = Temporary5;
              }
            else{
              Temporary4 = calcOverlayedSize__buju_u345(l_p0, n_536871251);
              }
            var needSize_536871310 = Temporary4;
            n_536871251.computed.arr[2] = needSize_536871310;
          };
        }
    };

  
}

function HEX2BHEX3D__buju_u483(x_p0, x_p0_Idx, y_p1) {
    x_p0[x_p0_Idx] = (x_p0[x_p0_Idx] + y_p1);

  
}

function min__system_u1159(x_p0, y_p1) {
    var Temporary1;

  var result_33555594 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555594 = Temporary1;

  return result_33555594;

}

function arrangeStacked__buju_u419(l_p0, n_p1) {
    var computed_536871339 = nimCopy(null, n_p1.computed, NTI671089030);
    var space_536871341 = computed_536871339.arr[3];
    var arrangeRangeBegin_536871342 = n_p1.childOffset;
    var arrangeRangeEnd_536871343 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
    var maxX2_536871345 = (computed_536871339.arr[1] + space_536871341);
    Label1: {
        Label2: while (true) {
        if (!!((arrangeRangeBegin_536871342 == arrangeRangeEnd_536871343))) break Label2;
          var used_536871346 = 0.0;
          var count_536871347 = 0;
          var squeezedCount_536871348 = 0;
          var total_536871349 = 0;
          var itemCount_536871350 = 0;
          var expandRangeEnd_536871351 = arrangeRangeEnd_536871343;
          Label3: {
            var idx_536871352 = 0;
            var res_536872240 = arrangeRangeBegin_536871342;
            Label4: {
                Label5: while (true) {
                if (!(res_536872240 < arrangeRangeEnd_536871343)) break Label5;
                  idx_536871352 = res_536872240;
                  var child_536871353 = l_p0.sorted[idx_536871352];
                  itemCount_536871350 += 1;
                  var extend_536871361 = ((used_536871346 + child_536871353.computed.arr[1]) + child_536871353.margin.arr[3]);
                  if (((((((child_536871353.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                  count_536871347 += 1;
                  }
                  else {
                    if ((child_536871353.size.arr[1] <= 0.0)) {
                    squeezedCount_536871348 += 1;
                    }
                    
                    extend_536871361 = (extend_536871361 + child_536871353.computed.arr[3]);
                  }
                  
                  if (((0 < total_536871349) && (space_536871341 < extend_536871361))) {
                  expandRangeEnd_536871351 = idx_536871352;
                  child_536871353.isBreak = true;
                  itemCount_536871350 = 0;
                  break Label3;
                  }
                  
                  total_536871349 += 1;
                  used_536871346 = extend_536871361;
                  res_536872240 = ((res_536872240 + 1) >>> 0);
                }
            };
          };
          var extraSpace_536871384 = (space_536871341 - used_536871346);
          var filler_536871385 = 0.0;
          var spacer_536871386 = 0.0;
          var extraMargin_536871387 = 0.0;
          var eater_536871388 = 0.0;
          if ((0.0 < extraSpace_536871384)) {
          if ((0 < count_536871347)) {
          filler_536871385 = (extraSpace_536871384 / count_536871347);
          }
          else {
          if ((0 < total_536871349)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_536871350) || !((expandRangeEnd_536871351 == arrangeRangeEnd_536871343))))) {
            spacer_536871386 = (extraSpace_536871384 / (total_536871349 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_536871387 = extraSpace_536871384;
            }
          else{
            extraMargin_536871387 = (extraSpace_536871384 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_536871390 = [computed_536871339.arr[1]];
          var x1_536871391 = 0.0;
          Label6: {
            var idx_536871392 = 0;
            var res_536872243 = arrangeRangeBegin_536871342;
            Label7: {
                Label8: while (true) {
                if (!(res_536872243 < expandRangeEnd_536871351)) break Label8;
                  idx_536871392 = res_536872243;
                  var child_536871393 = l_p0.sorted[idx_536871392];
                  HEX2BHEX3D__buju_u483(x_536871390, 0, (child_536871393.computed.arr[1] + extraMargin_536871387));
                  if (((((((child_536871393.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                  x1_536871391 = (x_536871390[0] + filler_536871385);
                  }
                  else {
                  if ((0.0 < child_536871393.size.arr[1])) {
                  x1_536871391 = (x_536871390[0] + child_536871393.computed.arr[3]);
                  }
                  else {
                    x1_536871391 = (x_536871390[0] + max__system_u1192(0.0, (child_536871393.computed.arr[3] + eater_536871388)));
                  }
                  }
                  var ix0_536871407 = x_536871390[0];
                  var ix1_536871409 = min__system_u1159((maxX2_536871345 - child_536871393.margin.arr[3]), x1_536871391);
                  child_536871393.computed.arr[1] = ix0_536871407;
                  child_536871393.computed.arr[3] = (ix1_536871409 - ix0_536871407);
                  extraMargin_536871387 = spacer_536871386;
                  x_536871390[0] = (x1_536871391 + child_536871393.margin.arr[3]);
                  res_536872243 = ((res_536872243 + 1) >>> 0);
                }
            };
          };
          arrangeRangeBegin_536871342 = expandRangeEnd_536871351;
        }
    };

  
}

function max__system_u1196(x_p0, y_p1) {
    var Temporary1;

  var result_33555631 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555631 = Temporary1;

  return result_33555631;

}

function min__system_u1163(x_p0, y_p1) {
    var Temporary1;

  var result_33555598 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555598 = Temporary1;

  return result_33555598;

}

function arrangeOverlaySqueezedRange__buju_u514(l_p0, squeezedRangeBegin_p2, arrangeRangeEnd_p3, offset_p4, space_p5) {
    Label1: {
      var idx_536871435 = 0;
      var res_536872250 = squeezedRangeBegin_p2;
      Label2: {
          Label3: while (true) {
          if (!(res_536872250 < arrangeRangeEnd_p3)) break Label3;
            idx_536871435 = res_536872250;
            var child_536871436 = l_p0.sorted[idx_536871435];
            var minSize_536871439 = max__system_u1196(0.0, ((space_p5 - child_536871436.computed.arr[0]) - child_536871436.margin.arr[2]));
            if (            (((((child_536871436.layoutFlags & 31)) | 0) >> 0) & 5) == 5            ){              child_536871436.computed.arr[2] = minSize_536871439;
              }
            else if (            (((((child_536871436.layoutFlags & 31)) | 0) >> 0) & 5) == 1            ){              child_536871436.computed.arr[2] = min__system_u1163(child_536871436.computed.arr[2], minSize_536871439);
              }
            else if (            (((((child_536871436.layoutFlags & 31)) | 0) >> 0) & 5) == 4            ){              child_536871436.computed.arr[2] = min__system_u1163(child_536871436.computed.arr[2], minSize_536871439);
              child_536871436.computed.arr[0] = ((space_p5 - child_536871436.computed.arr[2]) - child_536871436.margin.arr[2]);
              }
            else{
              child_536871436.computed.arr[2] = min__system_u1163(child_536871436.computed.arr[2], minSize_536871439);
              child_536871436.computed.arr[0] = (child_536871436.computed.arr[0] + max__system_u1196(0.0, (((space_p5 - child_536871436.computed.arr[2]) / 2.0) - child_536871436.margin.arr[2])));
              }
            child_536871436.computed.arr[0] = (child_536871436.computed.arr[0] + offset_p4);
            res_536872250 = ((res_536872250 + 1) >>> 0);
          }
      };
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1) {
  var result_536871418 = 0.0;

    var offset_536871421 = n_p1.computed.arr[0];
    var needSize_536871422 = 0.0;
    var squeezedRangeBegin_536871423 = n_p1.childOffset;
    Label1: {
      var idx_536871424 = 0;
      var colontmp__536872246 = 0;
      colontmp__536872246 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872247 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872247 < colontmp__536872246)) break Label3;
            idx_536871424 = res_536872247;
            var child_536871425 = l_p0.sorted[idx_536871424];
            if (child_536871425.isBreak) {
            arrangeOverlaySqueezedRange__buju_u514(l_p0, squeezedRangeBegin_536871423, idx_536871424, offset_536871421, needSize_536871422);
            offset_536871421 = (offset_536871421 + needSize_536871422);
            squeezedRangeBegin_536871423 = idx_536871424;
            needSize_536871422 = 0.0;
            }
            
            var childSize_536871464 = ((child_536871425.computed.arr[0] + child_536871425.computed.arr[2]) + child_536871425.margin.arr[2]);
            needSize_536871422 = max__system_u1192(needSize_536871422, childSize_536871464);
            res_536872247 = ((res_536872247 + 1) >>> 0);
          }
      };
    };
    arrangeOverlaySqueezedRange__buju_u514(l_p0, squeezedRangeBegin_536871423, ((n_p1.childOffset + n_p1.childCount) >>> 0), offset_536871421, needSize_536871422);
    result_536871418 = (offset_536871421 + needSize_536871422);

  return result_536871418;

}

function arrangeOverlaySqueezedRange__buju_u577(l_p0, squeezedRangeBegin_p2, arrangeRangeEnd_p3, offset_p4, space_p5) {
    Label1: {
      var idx_536871498 = 0;
      var res_536872257 = squeezedRangeBegin_p2;
      Label2: {
          Label3: while (true) {
          if (!(res_536872257 < arrangeRangeEnd_p3)) break Label3;
            idx_536871498 = res_536872257;
            var child_536871499 = l_p0.sorted[idx_536871498];
            var minSize_536871502 = max__system_u1196(0.0, ((space_p5 - child_536871499.computed.arr[1]) - child_536871499.margin.arr[3]));
            if (            (((((child_536871499.layoutFlags & 31)) | 0) >> 1) & 5) == 5            ){              child_536871499.computed.arr[3] = minSize_536871502;
              }
            else if (            (((((child_536871499.layoutFlags & 31)) | 0) >> 1) & 5) == 1            ){              child_536871499.computed.arr[3] = min__system_u1163(child_536871499.computed.arr[3], minSize_536871502);
              }
            else if (            (((((child_536871499.layoutFlags & 31)) | 0) >> 1) & 5) == 4            ){              child_536871499.computed.arr[3] = min__system_u1163(child_536871499.computed.arr[3], minSize_536871502);
              child_536871499.computed.arr[1] = ((space_p5 - child_536871499.computed.arr[3]) - child_536871499.margin.arr[3]);
              }
            else{
              child_536871499.computed.arr[3] = min__system_u1163(child_536871499.computed.arr[3], minSize_536871502);
              child_536871499.computed.arr[1] = (child_536871499.computed.arr[1] + max__system_u1196(0.0, (((space_p5 - child_536871499.computed.arr[3]) / 2.0) - child_536871499.margin.arr[3])));
              }
            child_536871499.computed.arr[1] = (child_536871499.computed.arr[1] + offset_p4);
            res_536872257 = ((res_536872257 + 1) >>> 0);
          }
      };
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u564(l_p0, n_p1) {
  var result_536871481 = 0.0;

    var offset_536871484 = n_p1.computed.arr[1];
    var needSize_536871485 = 0.0;
    var squeezedRangeBegin_536871486 = n_p1.childOffset;
    Label1: {
      var idx_536871487 = 0;
      var colontmp__536872253 = 0;
      colontmp__536872253 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872254 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872254 < colontmp__536872253)) break Label3;
            idx_536871487 = res_536872254;
            var child_536871488 = l_p0.sorted[idx_536871487];
            if (child_536871488.isBreak) {
            arrangeOverlaySqueezedRange__buju_u577(l_p0, squeezedRangeBegin_536871486, idx_536871487, offset_536871484, needSize_536871485);
            offset_536871484 = (offset_536871484 + needSize_536871485);
            squeezedRangeBegin_536871486 = idx_536871487;
            needSize_536871485 = 0.0;
            }
            
            var childSize_536871527 = ((child_536871488.computed.arr[1] + child_536871488.computed.arr[3]) + child_536871488.margin.arr[3]);
            needSize_536871485 = max__system_u1192(needSize_536871485, childSize_536871527);
            res_536872254 = ((res_536872254 + 1) >>> 0);
          }
      };
    };
    arrangeOverlaySqueezedRange__buju_u577(l_p0, squeezedRangeBegin_536871486, ((n_p1.childOffset + n_p1.childCount) >>> 0), offset_536871484, needSize_536871485);
    result_536871481 = (offset_536871484 + needSize_536871485);

  return result_536871481;

}

function arrangeStacked__buju_u624(l_p0, n_p1) {
    var computed_536871544 = nimCopy(null, n_p1.computed, NTI671089030);
    var space_536871546 = computed_536871544.arr[2];
    var arrangeRangeBegin_536871547 = n_p1.childOffset;
    var arrangeRangeEnd_536871548 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
    var maxX2_536871550 = (computed_536871544.arr[0] + space_536871546);
    Label1: {
        Label2: while (true) {
        if (!!((arrangeRangeBegin_536871547 == arrangeRangeEnd_536871548))) break Label2;
          var used_536871551 = 0.0;
          var count_536871552 = 0;
          var squeezedCount_536871553 = 0;
          var total_536871554 = 0;
          var itemCount_536871555 = 0;
          var expandRangeEnd_536871556 = arrangeRangeEnd_536871548;
          Label3: {
            var idx_536871557 = 0;
            var res_536872261 = arrangeRangeBegin_536871547;
            Label4: {
                Label5: while (true) {
                if (!(res_536872261 < arrangeRangeEnd_536871548)) break Label5;
                  idx_536871557 = res_536872261;
                  var child_536871558 = l_p0.sorted[idx_536871557];
                  itemCount_536871555 += 1;
                  var extend_536871566 = ((used_536871551 + child_536871558.computed.arr[0]) + child_536871558.margin.arr[2]);
                  if (((((((child_536871558.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                  count_536871552 += 1;
                  }
                  else {
                    if ((child_536871558.size.arr[0] <= 0.0)) {
                    squeezedCount_536871553 += 1;
                    }
                    
                    extend_536871566 = (extend_536871566 + child_536871558.computed.arr[2]);
                  }
                  
                  if (((0 < total_536871554) && (space_536871546 < extend_536871566))) {
                  expandRangeEnd_536871556 = idx_536871557;
                  child_536871558.isBreak = true;
                  itemCount_536871555 = 0;
                  break Label3;
                  }
                  
                  total_536871554 += 1;
                  used_536871551 = extend_536871566;
                  res_536872261 = ((res_536872261 + 1) >>> 0);
                }
            };
          };
          var extraSpace_536871589 = (space_536871546 - used_536871551);
          var filler_536871590 = 0.0;
          var spacer_536871591 = 0.0;
          var extraMargin_536871592 = 0.0;
          var eater_536871593 = 0.0;
          if ((0.0 < extraSpace_536871589)) {
          if ((0 < count_536871552)) {
          filler_536871590 = (extraSpace_536871589 / count_536871552);
          }
          else {
          if ((0 < total_536871554)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_536871555) || !((expandRangeEnd_536871556 == arrangeRangeEnd_536871548))))) {
            spacer_536871591 = (extraSpace_536871589 / (total_536871554 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_536871592 = extraSpace_536871589;
            }
          else{
            extraMargin_536871592 = (extraSpace_536871589 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_536871595 = [computed_536871544.arr[0]];
          var x1_536871596 = 0.0;
          Label6: {
            var idx_536871597 = 0;
            var res_536872264 = arrangeRangeBegin_536871547;
            Label7: {
                Label8: while (true) {
                if (!(res_536872264 < expandRangeEnd_536871556)) break Label8;
                  idx_536871597 = res_536872264;
                  var child_536871598 = l_p0.sorted[idx_536871597];
                  HEX2BHEX3D__buju_u483(x_536871595, 0, (child_536871598.computed.arr[0] + extraMargin_536871592));
                  if (((((((child_536871598.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                  x1_536871596 = (x_536871595[0] + filler_536871590);
                  }
                  else {
                  if ((0.0 < child_536871598.size.arr[0])) {
                  x1_536871596 = (x_536871595[0] + child_536871598.computed.arr[2]);
                  }
                  else {
                    x1_536871596 = (x_536871595[0] + max__system_u1192(0.0, (child_536871598.computed.arr[2] + eater_536871593)));
                  }
                  }
                  var ix0_536871612 = x_536871595[0];
                  var ix1_536871614 = min__system_u1159((maxX2_536871550 - child_536871598.margin.arr[2]), x1_536871596);
                  child_536871598.computed.arr[0] = ix0_536871612;
                  child_536871598.computed.arr[2] = (ix1_536871614 - ix0_536871612);
                  extraMargin_536871592 = spacer_536871591;
                  x_536871595[0] = (x1_536871596 + child_536871598.margin.arr[2]);
                  res_536872264 = ((res_536872264 + 1) >>> 0);
                }
            };
          };
          arrangeRangeBegin_536871547 = expandRangeEnd_536871556;
        }
    };

  
}

function arrangeStacked__buju_u706(l_p0, n_p1) {
    var computed_536871626 = nimCopy(null, n_p1.computed, NTI671089030);
    var space_536871628 = computed_536871626.arr[2];
    var arrangeRangeBegin_536871629 = n_p1.childOffset;
    var arrangeRangeEnd_536871630 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
    Label1: {
        Label2: while (true) {
        if (!!((arrangeRangeBegin_536871629 == arrangeRangeEnd_536871630))) break Label2;
          var used_536871631 = 0.0;
          var count_536871632 = 0;
          var squeezedCount_536871633 = 0;
          var total_536871634 = 0;
          var itemCount_536871635 = 0;
          var expandRangeEnd_536871636 = arrangeRangeEnd_536871630;
          Label3: {
            var idx_536871637 = 0;
            var res_536872268 = arrangeRangeBegin_536871629;
            Label4: {
                Label5: while (true) {
                if (!(res_536872268 < arrangeRangeEnd_536871630)) break Label5;
                  idx_536871637 = res_536872268;
                  var child_536871638 = l_p0.sorted[idx_536871637];
                  itemCount_536871635 += 1;
                  var extend_536871646 = ((used_536871631 + child_536871638.computed.arr[0]) + child_536871638.margin.arr[2]);
                  if (((((((child_536871638.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                  count_536871632 += 1;
                  }
                  else {
                    if ((child_536871638.size.arr[0] <= 0.0)) {
                    squeezedCount_536871633 += 1;
                    }
                    
                    extend_536871646 = (extend_536871646 + child_536871638.computed.arr[2]);
                  }
                  
                  total_536871634 += 1;
                  used_536871631 = extend_536871646;
                  res_536872268 = ((res_536872268 + 1) >>> 0);
                }
            };
          };
          var extraSpace_536871669 = (space_536871628 - used_536871631);
          var filler_536871670 = 0.0;
          var spacer_536871671 = 0.0;
          var extraMargin_536871672 = 0.0;
          var eater_536871673 = 0.0;
          if ((0.0 < extraSpace_536871669)) {
          if ((0 < count_536871632)) {
          filler_536871670 = (extraSpace_536871669 / count_536871632);
          }
          else {
          if ((0 < total_536871634)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_536871635) || !((expandRangeEnd_536871636 == arrangeRangeEnd_536871630))))) {
            spacer_536871671 = (extraSpace_536871669 / (total_536871634 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_536871672 = extraSpace_536871669;
            }
          else{
            extraMargin_536871672 = (extraSpace_536871669 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_536871669 < 0.0) && (0 < squeezedCount_536871633))) {
            eater_536871673 = (extraSpace_536871669 / squeezedCount_536871633);
            }
            
          }
          
          var x_536871675 = [computed_536871626.arr[0]];
          var x1_536871676 = 0.0;
          Label6: {
            var idx_536871677 = 0;
            var res_536872271 = arrangeRangeBegin_536871629;
            Label7: {
                Label8: while (true) {
                if (!(res_536872271 < expandRangeEnd_536871636)) break Label8;
                  idx_536871677 = res_536872271;
                  var child_536871678 = l_p0.sorted[idx_536871677];
                  HEX2BHEX3D__buju_u483(x_536871675, 0, (child_536871678.computed.arr[0] + extraMargin_536871672));
                  if (((((((child_536871678.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                  x1_536871676 = (x_536871675[0] + filler_536871670);
                  }
                  else {
                  if ((0.0 < child_536871678.size.arr[0])) {
                  x1_536871676 = (x_536871675[0] + child_536871678.computed.arr[2]);
                  }
                  else {
                    x1_536871676 = (x_536871675[0] + max__system_u1192(0.0, (child_536871678.computed.arr[2] + eater_536871673)));
                  }
                  }
                  var ix0_536871692 = x_536871675[0];
                  var ix1_536871693 = x1_536871676;
                  child_536871678.computed.arr[0] = ix0_536871692;
                  child_536871678.computed.arr[2] = (ix1_536871693 - ix0_536871692);
                  extraMargin_536871672 = spacer_536871671;
                  x_536871675[0] = (x1_536871676 + child_536871678.margin.arr[2]);
                  res_536872271 = ((res_536872271 + 1) >>> 0);
                }
            };
          };
          arrangeRangeBegin_536871629 = expandRangeEnd_536871636;
        }
    };

  
}

function arrangeOverlay__buju_u795(l_p0, n_p1) {
    var offset_536871714 = n_p1.computed.arr[0];
    var space_536871716 = n_p1.computed.arr[2];
    Label1: {
      var idx_536871717 = 0;
      var colontmp__536872274 = 0;
      colontmp__536872274 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872275 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872275 < colontmp__536872274)) break Label3;
            idx_536871717 = res_536872275;
            var child_536871718 = l_p0.sorted[idx_536871717];
            if (            (((((child_536871718.layoutFlags & 31)) | 0) >> 0) & 5) == 5            ){              child_536871718.computed.arr[2] = max__system_u1192(0.0, ((space_536871716 - child_536871718.computed.arr[0]) - child_536871718.margin.arr[2]));
              }
            else if (            (((((child_536871718.layoutFlags & 31)) | 0) >> 0) & 5) == 4            ){              child_536871718.computed.arr[0] = ((((child_536871718.computed.arr[0] + space_536871716) - child_536871718.computed.arr[2]) - child_536871718.margin.arr[0]) - child_536871718.margin.arr[2]);
              }
            else if (            (((((child_536871718.layoutFlags & 31)) | 0) >> 0) & 5) == 1            ){              }
            else{
              child_536871718.computed.arr[0] = (child_536871718.computed.arr[0] + max__system_u1192(0.0, (((space_536871716 - child_536871718.computed.arr[2]) / 2.0) - child_536871718.margin.arr[2])));
              }
            child_536871718.computed.arr[0] = (child_536871718.computed.arr[0] + offset_536871714);
            res_536872275 = ((res_536872275 + 1) >>> 0);
          }
      };
    };

  
}

function arrange__buju_u413(l_p0, n_p1) {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (false) {
      arrangeStacked__buju_u419(l_p0, n_p1);
      var offset_536871473 = arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_536871473 - n_p1.computed.arr[0]);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (false) {
      (arrangeWrappedOverlaySqueezed__buju_u564(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u624(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      arrangeStacked__buju_u706(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u514(l_p0, n_p1.childOffset, ((n_p1.childOffset + n_p1.childCount) >>> 0), n_p1.computed.arr[0], n_p1.computed.arr[2]);
      }
      
      }
    else{
      arrangeOverlay__buju_u795(l_p0, n_p1);
      }

  
}

function arrange__buju_u400(l_p0) {
    Label1: {
      var idx_536871323 = 0;
      var colontmp__536872235 = 0;
      colontmp__536872235 = (l_p0.sorted).length;
      var i_536872236 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_536872236 < colontmp__536872235)) break Label3;
            idx_536871323 = i_536872236;
            var n_536871324 = l_p0.sorted[idx_536871323];
            if (!(n_536871324.isSkipXAxis)) {
            arrange__buju_u413(l_p0, n_536871324);
            }
            
            i_536872236 += 1;
          }
      };
    };

  
}

function calcStackedSize__buju_u846(l_p0, n_p1) {
  var result_536871763 = 0.0;

    var needSize_536871765 = 0.0;
    Label1: {
      var idx_536871766 = 0;
      var colontmp__536872280 = 0;
      colontmp__536872280 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872281 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872281 < colontmp__536872280)) break Label3;
            idx_536871766 = res_536872281;
            var child_536871767 = l_p0.sorted[idx_536871766];
            var size_536871771 = ((child_536871767.computed.arr[1] + child_536871767.computed.arr[3]) + child_536871767.margin.arr[3]);
            needSize_536871765 = (needSize_536871765 + size_536871771);
            res_536872281 = ((res_536872281 + 1) >>> 0);
          }
      };
    };
    result_536871763 = needSize_536871765;

  return result_536871763;

}

function calcWrappedOverlayedSize__buju_u860(l_p0, n_p1) {
  var result_536871777 = 0.0;

    var needSize_536871779 = 0.0;
    var needSize2_536871780 = 0.0;
    Label1: {
      var idx_536871781 = 0;
      var colontmp__536872284 = 0;
      colontmp__536872284 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872285 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872285 < colontmp__536872284)) break Label3;
            idx_536871781 = res_536872285;
            var child_536871782 = l_p0.sorted[idx_536871781];
            if (child_536871782.isBreak) {
            needSize2_536871780 = (needSize2_536871780 + needSize_536871779);
            needSize_536871779 = 0.0;
            }
            
            var size_536871786 = ((child_536871782.computed.arr[1] + child_536871782.computed.arr[3]) + child_536871782.margin.arr[3]);
            needSize_536871779 = max__system_u1192(needSize_536871779, size_536871786);
            res_536872285 = ((res_536872285 + 1) >>> 0);
          }
      };
    };
    result_536871777 = (needSize_536871779 + needSize2_536871780);

  return result_536871777;

}

function calcOverlayedSize__buju_u880(l_p0, n_p1) {
  var result_536871797 = 0.0;

    var needSize_536871799 = 0.0;
    Label1: {
      var idx_536871800 = 0;
      var colontmp__536872288 = 0;
      colontmp__536872288 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872289 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872289 < colontmp__536872288)) break Label3;
            idx_536871800 = res_536872289;
            var child_536871801 = l_p0.sorted[idx_536871800];
            var size_536871805 = ((child_536871801.computed.arr[1] + child_536871801.computed.arr[3]) + child_536871801.margin.arr[3]);
            needSize_536871799 = max__system_u1192(size_536871805, needSize_536871799);
            res_536872289 = ((res_536872289 + 1) >>> 0);
          }
      };
    };
    result_536871797 = needSize_536871799;

  return result_536871797;

}

function calcSize__buju_u826(l_p0) {
            var Temporary4;
              var Temporary5;

    var idx_536871746 = (l_p0.sorted).length;
    Label1: {
        Label2: while (true) {
        if (!(0 < idx_536871746)) break Label2;
          Label3: {
            idx_536871746 -= 1;
            var n_536871752 = l_p0.sorted[idx_536871746];
            n_536871752.computed.arr[1] = n_536871752.margin.arr[1];
            if ((0.0 < n_536871752.size.arr[1])) {
            n_536871752.computed.arr[3] = n_536871752.size.arr[1];
            break Label3;
            }
            
            if (            (((n_536871752.boxFlags & 7)) | 0) == 7            ){              Temporary4 = calcStackedSize__buju_u846(l_p0, n_536871752);
              }
            else if (            (((n_536871752.boxFlags & 7)) | 0) == 6            ){              Temporary4 = calcWrappedOverlayedSize__buju_u860(l_p0, n_536871752);
              }
            else if (            (((n_536871752.boxFlags & 7)) | 0) == 3 || 
            (((n_536871752.boxFlags & 7)) | 0) == 2            ){              if (((((n_536871752.boxFlags & 1)) | 0) == 1)) {
              Temporary5 = calcStackedSize__buju_u846(l_p0, n_536871752);
              }
              else {
              Temporary5 = calcOverlayedSize__buju_u880(l_p0, n_536871752);
              }
              
              Temporary4 = Temporary5;
              }
            else{
              Temporary4 = calcOverlayedSize__buju_u880(l_p0, n_536871752);
              }
            var needSize_536871811 = Temporary4;
            n_536871752.computed.arr[3] = needSize_536871811;
          };
        }
    };

  
}

function arrangeStacked__buju_u947(l_p0, n_p1) {
    var computed_536871867 = nimCopy(null, n_p1.computed, NTI671089030);
    var space_536871869 = computed_536871867.arr[3];
    var arrangeRangeBegin_536871870 = n_p1.childOffset;
    var arrangeRangeEnd_536871871 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
    Label1: {
        Label2: while (true) {
        if (!!((arrangeRangeBegin_536871870 == arrangeRangeEnd_536871871))) break Label2;
          var used_536871872 = 0.0;
          var count_536871873 = 0;
          var squeezedCount_536871874 = 0;
          var total_536871875 = 0;
          var itemCount_536871876 = 0;
          var expandRangeEnd_536871877 = arrangeRangeEnd_536871871;
          Label3: {
            var idx_536871878 = 0;
            var res_536872297 = arrangeRangeBegin_536871870;
            Label4: {
                Label5: while (true) {
                if (!(res_536872297 < arrangeRangeEnd_536871871)) break Label5;
                  idx_536871878 = res_536872297;
                  var child_536871879 = l_p0.sorted[idx_536871878];
                  itemCount_536871876 += 1;
                  var extend_536871887 = ((used_536871872 + child_536871879.computed.arr[1]) + child_536871879.margin.arr[3]);
                  if (((((((child_536871879.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                  count_536871873 += 1;
                  }
                  else {
                    if ((child_536871879.size.arr[1] <= 0.0)) {
                    squeezedCount_536871874 += 1;
                    }
                    
                    extend_536871887 = (extend_536871887 + child_536871879.computed.arr[3]);
                  }
                  
                  total_536871875 += 1;
                  used_536871872 = extend_536871887;
                  res_536872297 = ((res_536872297 + 1) >>> 0);
                }
            };
          };
          var extraSpace_536871910 = (space_536871869 - used_536871872);
          var filler_536871911 = 0.0;
          var spacer_536871912 = 0.0;
          var extraMargin_536871913 = 0.0;
          var eater_536871914 = 0.0;
          if ((0.0 < extraSpace_536871910)) {
          if ((0 < count_536871873)) {
          filler_536871911 = (extraSpace_536871910 / count_536871873);
          }
          else {
          if ((0 < total_536871875)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_536871876) || !((expandRangeEnd_536871877 == arrangeRangeEnd_536871871))))) {
            spacer_536871912 = (extraSpace_536871910 / (total_536871875 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_536871913 = extraSpace_536871910;
            }
          else{
            extraMargin_536871913 = (extraSpace_536871910 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_536871910 < 0.0) && (0 < squeezedCount_536871874))) {
            eater_536871914 = (extraSpace_536871910 / squeezedCount_536871874);
            }
            
          }
          
          var x_536871916 = [computed_536871867.arr[1]];
          var x1_536871917 = 0.0;
          Label6: {
            var idx_536871918 = 0;
            var res_536872300 = arrangeRangeBegin_536871870;
            Label7: {
                Label8: while (true) {
                if (!(res_536872300 < expandRangeEnd_536871877)) break Label8;
                  idx_536871918 = res_536872300;
                  var child_536871919 = l_p0.sorted[idx_536871918];
                  HEX2BHEX3D__buju_u483(x_536871916, 0, (child_536871919.computed.arr[1] + extraMargin_536871913));
                  if (((((((child_536871919.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                  x1_536871917 = (x_536871916[0] + filler_536871911);
                  }
                  else {
                  if ((0.0 < child_536871919.size.arr[1])) {
                  x1_536871917 = (x_536871916[0] + child_536871919.computed.arr[3]);
                  }
                  else {
                    x1_536871917 = (x_536871916[0] + max__system_u1192(0.0, (child_536871919.computed.arr[3] + eater_536871914)));
                  }
                  }
                  var ix0_536871933 = x_536871916[0];
                  var ix1_536871934 = x1_536871917;
                  child_536871919.computed.arr[1] = ix0_536871933;
                  child_536871919.computed.arr[3] = (ix1_536871934 - ix0_536871933);
                  extraMargin_536871913 = spacer_536871912;
                  x_536871916[0] = (x1_536871917 + child_536871919.margin.arr[3]);
                  res_536872300 = ((res_536872300 + 1) >>> 0);
                }
            };
          };
          arrangeRangeBegin_536871870 = expandRangeEnd_536871877;
        }
    };

  
}

function arrangeOverlay__buju_u1036(l_p0, n_p1) {
    var offset_536871955 = n_p1.computed.arr[1];
    var space_536871957 = n_p1.computed.arr[3];
    Label1: {
      var idx_536871958 = 0;
      var colontmp__536872303 = 0;
      colontmp__536872303 = ((n_p1.childOffset + n_p1.childCount) >>> 0);
      var res_536872304 = n_p1.childOffset;
      Label2: {
          Label3: while (true) {
          if (!(res_536872304 < colontmp__536872303)) break Label3;
            idx_536871958 = res_536872304;
            var child_536871959 = l_p0.sorted[idx_536871958];
            if (            (((((child_536871959.layoutFlags & 31)) | 0) >> 1) & 5) == 5            ){              child_536871959.computed.arr[3] = max__system_u1192(0.0, ((space_536871957 - child_536871959.computed.arr[1]) - child_536871959.margin.arr[3]));
              }
            else if (            (((((child_536871959.layoutFlags & 31)) | 0) >> 1) & 5) == 4            ){              child_536871959.computed.arr[1] = ((((child_536871959.computed.arr[1] + space_536871957) - child_536871959.computed.arr[3]) - child_536871959.margin.arr[1]) - child_536871959.margin.arr[3]);
              }
            else if (            (((((child_536871959.layoutFlags & 31)) | 0) >> 1) & 5) == 1            ){              }
            else{
              child_536871959.computed.arr[1] = (child_536871959.computed.arr[1] + max__system_u1192(0.0, (((space_536871957 - child_536871959.computed.arr[3]) / 2.0) - child_536871959.margin.arr[3])));
              }
            child_536871959.computed.arr[1] = (child_536871959.computed.arr[1] + offset_536871955);
            res_536872304 = ((res_536872304 + 1) >>> 0);
          }
      };
    };

  
}

function arrange__buju_u914(l_p0, n_p1) {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (true) {
      arrangeStacked__buju_u419(l_p0, n_p1);
      var offset_536871844 = arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_536871844 - n_p1.computed.arr[0]);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (true) {
      (arrangeWrappedOverlaySqueezed__buju_u564(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u624(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      arrangeStacked__buju_u947(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u577(l_p0, n_p1.childOffset, ((n_p1.childOffset + n_p1.childCount) >>> 0), n_p1.computed.arr[1], n_p1.computed.arr[3]);
      }
      
      }
    else{
      arrangeOverlay__buju_u1036(l_p0, n_p1);
      }

  
}

function arrange__buju_u901(l_p0) {
    Label1: {
      var idx_536871824 = 0;
      var colontmp__536872292 = 0;
      colontmp__536872292 = (l_p0.sorted).length;
      var i_536872293 = 0;
      Label2: {
          Label3: while (true) {
          if (!(i_536872293 < colontmp__536872292)) break Label3;
            idx_536871824 = i_536872293;
            var n_536871825 = l_p0.sorted[idx_536871824];
            arrange__buju_u914(l_p0, n_536871825);
            if (n_536871825.isSkipXAxis) {
            arrange__buju_u413(l_p0, n_536871825);
            }
            
            i_536872293 += 1;
          }
      };
    };

  
}

function compute__buju_u286(l_p0, n_p1) {
    n_p1.isSkipXAxis = false;
    if (l_p0.sorted.length < 0) { for (var i = l_p0.sorted.length ; i < 0 ; ++i) l_p0.sorted.push(null); }
               else { l_p0.sorted.length = 0; };
    l_p0.sorted.push(n_p1);;
    var idx_536871209 = 0;
    Label1: {
        Label2: while (true) {
        if (!(idx_536871209 < (l_p0.sorted).length)) break Label2;
          var n_536871214 = l_p0.sorted[idx_536871209];
          idx_536871209 += 1;
          n_536871214.childOffset = (l_p0.sorted).length;
          if (((((n_536871214.boxFlags & 7)) | 0) == 7)) {
          n_536871214.isSkipXAxis = true;
          }
          
          n_536871214.isBreak = false;
          var count_536871223 = 0;
          var isSkipXAxis_536871224 = n_536871214.isSkipXAxis;
          Label3: {
            var child_536871225 = null;
            var id_536872216 = n_536871214.firstChild;
            Label4: {
                Label5: while (true) {
                if (!!(isNil__buju_u84(id_536872216))) break Label5;
                  var node_536872218 = l_p0.nodes[((id_536872216 - 1) >>> 0)];
                  id_536872216 = node_536872218.nextSibling;
                  child_536871225 = node_536872218;
                  count_536871223 += 1;
                  l_p0.sorted.push(child_536871225);;
                  child_536871225.isSkipXAxis = isSkipXAxis_536871224;
                }
            };
          };
          n_536871214.childCount = count_536871223;
        }
    };
    calcSize__buju_u325(l_p0);
    arrange__buju_u400(l_p0);
    calcSize__buju_u826(l_p0);
    arrange__buju_u901(l_p0);

  
}

function compute(l_p0, item_p1) {
    var l_536872199 = l_p0;
    var node_536872203 = l_536872199.nodes[((item_p1 - 1) >>> 0)];
    compute__buju_u286(l_536872199, node_536872203);

  
}

function computed(l_p0, item_p1) {
  var result_536872207 = ({arr: new Float32Array(4)});

    var l_536872208 = l_p0;
    var node_536872212 = l_536872208.nodes[((item_p1 - 1) >>> 0)];
    result_536872207 = nimCopy(result_536872207, node_536872212.computed, NTI671089030);

  return result_536872207;

}
