/* Generated by the Nim Compiler v2.2.1 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI654311815 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311814 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554446 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI654311803 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311802 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
NTI654311803.base = NTI33554446;
var NNI654311802 = {kind: 1, offset: "arr", len: 0, typ: NTI654311803, name: "arr", sons: null};
NTI654311802.node = NNI654311802;
NTI654311815.base = NTI33554446;
var NNI654311814 = {kind: 1, offset: "arr", len: 0, typ: NTI654311815, name: "arr", sons: null};
NTI654311814.node = NNI654311814;

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557326 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2874(ti_p2))) {
      result_33557326 = src_p1;
      }
      else {
        result_33557326 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557326 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557326 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557326 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557326 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557326, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557326 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557326 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557326 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557326[i] = nimCopy(result_33557326[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557326 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557326 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557326[i] = nimCopy(result_33557326[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557326 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557326 = src_p1;
      break;
    }

  return result_33557326;

}

function len(l_p0) {
  var result_520094770 = 0;

    result_520094770 = (l_p0.nodes).length;

  return result_520094770;

}

function clear(l_p0) {
    if (l_p0.nodes.length < 0) { for (var i = l_p0.nodes.length ; i < 0 ; ++i) l_p0.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_p0.nodes.length = 0; };

  
}

function firstChild(l_p0, id_p1) {
  var result_520094815 = 0;

    var l_520094816 = l_p0;
    var node_520094820 = l_520094816.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094820 == null))) {
    result_520094815 = node_520094820.firstChild;
    }
    

  return result_520094815;

}

function lastChild(l_p0, id_p1) {
  var result_520094827 = 0;

    var l_520094828 = l_p0;
    var node_520094832 = l_520094828.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094832 == null))) {
    result_520094827 = node_520094832.lastChild;
    }
    

  return result_520094827;

}

function nextSibling(l_p0, id_p1) {
  var result_520094839 = 0;

    var l_520094840 = l_p0;
    var node_520094844 = l_520094840.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094844 == null))) {
    result_520094839 = node_520094844.nextSibling;
    }
    

  return result_520094839;

}

function HEX2BHEX25__system_u783(x_p0, y_p1) {
  var result_33555218 = 0;

    result_33555218 = Number(BigInt.asIntN(32, BigInt(((Number(BigInt.asUintN(32, BigInt(x_p0))) + Number(BigInt.asUintN(32, BigInt(y_p1)))) >>> 0))));

  return result_33555218;

}

function node(l_p0) {
  var result_520094862 = 0;

    var l_520094863 = l_p0;
    var len_520094867 = (l_520094863.nodes).length;
    var newLen_520094868 = HEX2BHEX25__system_u783(len_520094867, 1);
    if (l_520094863.nodes.length < newLen_520094868) { for (var i = l_520094863.nodes.length ; i < newLen_520094868 ; ++i) l_520094863.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_520094863.nodes.length = newLen_520094868; };
    result_520094862 = newLen_520094868;

  return result_520094862;

}

function setBoxFlags(l_p0, id_p1, boxFlags_p2) {
    var l_520094877 = l_p0;
    var node_520094881 = l_520094877.nodes[((id_p1 - 1) >>> 0)];
    node_520094881.boxFlags = boxFlags_p2;

  
}

function setLayoutFlags(l_p0, id_p1, layoutFlags_p2) {
    var l_520094886 = l_p0;
    var node_520094890 = l_520094886.nodes[((id_p1 - 1) >>> 0)];
    node_520094890.layoutFlags = layoutFlags_p2;

  
}

function isFatPointer__system_u2874(ti_p0) {
  var result_33557308 = false;

  BeforeRet: {
    result_33557308 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557308;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}

function setSize(l_p0, id_p1, size_p2) {
    var l_520094895 = l_p0;
    var node_520094899 = l_520094895.nodes[((id_p1 - 1) >>> 0)];
    node_520094899.size = nimCopy(node_520094899.size, size_p2, NTI654311802);

  
}

function setMargin(l_p0, id_p1, margin_p2) {
    var l_520094904 = l_p0;
    var node_520094908 = l_520094904.nodes[((id_p1 - 1) >>> 0)];
    node_520094908.margin = nimCopy(node_520094908.margin, margin_p2, NTI654311814);

  
}

function isNil__buju_u34(id_p0) {
  var result_520093732 = false;

    result_520093732 = (id_p0 == 0);

  return result_520093732;

}

function lastChild__buju_u94(l_p0, n_p1) {
  var result_520093793 = null;

  BeforeRet: {
    var id_520093794 = n_p1.lastChild;
    if (!(isNil__buju_u34(id_520093794))) {
    result_520093793 = l_p0.nodes[((id_520093794 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093793;

}

function insertChild(l_p0, parentId_p1, childId_p2) {
    var l_520094913 = l_p0;
    var parent_520094917 = l_520094913.nodes[((parentId_p1 - 1) >>> 0)];
    if (!(isNil__buju_u34(parent_520094917.lastChild))) {
    var lastChild_520094918 = lastChild__buju_u94(l_520094913, parent_520094917);
    lastChild_520094918.nextSibling = childId_p2;
    var node_520094922 = l_520094913.nodes[((childId_p2 - 1) >>> 0)];
    node_520094922.prevSibling = parent_520094917.lastChild;
    parent_520094917.lastChild = childId_p2;
    }
    else {
      parent_520094917.firstChild = childId_p2;
      parent_520094917.lastChild = childId_p2;
    }
    

  
}

function reset__buju_u1246(obj_p0, obj_p0_Idx) {
    obj_p0[obj_p0_Idx] = 0;

  
}

function removeChild(l_p0, parentId_p1, childId_p2) {
  BeforeRet: {
    var l_520094927 = l_p0;
    var node_520094931 = l_520094927.nodes[((childId_p2 - 1) >>> 0)];
    var parent_520094935 = l_520094927.nodes[((parentId_p1 - 1) >>> 0)];
    var prev_520094936 = node_520094931.prevSibling;
    var next_520094937 = node_520094931.nextSibling;
    if ((next_520094937 == prev_520094936)) {
    reset__buju_u1246(parent_520094935, "lastChild");
    reset__buju_u1246(parent_520094935, "firstChild");
    if (!(isNil__buju_u34(next_520094937))) {
    reset__buju_u1246(node_520094931, "prevSibling");
    reset__buju_u1246(node_520094931, "nextSibling");
    var sibling_520094966 = l_520094927.nodes[((next_520094937 - 1) >>> 0)];
    reset__buju_u1246(sibling_520094966, "prevSibling");
    reset__buju_u1246(sibling_520094966, "nextSibling");
    }
    
    break BeforeRet;
    }
    
    if ((parent_520094935.firstChild == childId_p2)) {
    parent_520094935.firstChild = next_520094937;
    }
    
    if ((parent_520094935.lastChild == childId_p2)) {
    parent_520094935.lastChild = prev_520094936;
    }
    
    if (!(isNil__buju_u34(next_520094937))) {
    var sibling_520094984 = l_520094927.nodes[((next_520094937 - 1) >>> 0)];
    sibling_520094984.prevSibling = prev_520094936;
    reset__buju_u1246(node_520094931, "nextSibling");
    }
    
    if (!(isNil__buju_u34(prev_520094936))) {
    var sibling_520094991 = l_520094927.nodes[((prev_520094936 - 1) >>> 0)];
    sibling_520094991.nextSibling = next_520094937;
    reset__buju_u1246(node_520094931, "prevSibling");
    }
    
  };

  
}

function calcStackedSize__buju_u258(l_p0, n_p1) {
  var result_520093959 = 0.0;

    Label1: {
      var child_520093961 = null;
      var id_520095018 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095018))) break Label3;
            var node_520095020 = l_p0.nodes[((id_520095018 - 1) >>> 0)];
            id_520095018 = node_520095020.nextSibling;
            child_520093961 = node_520095020;
            var size_520093965 = ((child_520093961.computed.arr[1] + child_520093961.computed.arr[3]) + child_520093961.margin.arr[3]);
            result_520093959 = (result_520093959 + size_520093965);
          }
      };
    };

  return result_520093959;

}

function max__system_u1196(x_p0, y_p1) {
    var Temporary1;

  var result_33555631 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555631 = Temporary1;

  return result_33555631;

}

function calcOverlayedSize__buju_u286(l_p0, n_p1) {
  var result_520093987 = 0.0;

    Label1: {
      var child_520093989 = null;
      var id_520095022 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095022))) break Label3;
            var node_520095024 = l_p0.nodes[((id_520095022 - 1) >>> 0)];
            id_520095022 = node_520095024.nextSibling;
            child_520093989 = node_520095024;
            var size_520093993 = ((child_520093989.computed.arr[0] + child_520093989.computed.arr[2]) + child_520093989.margin.arr[2]);
            result_520093987 = max__system_u1196(size_520093993, result_520093987);
          }
      };
    };

  return result_520093987;

}

function max__system_u1192(x_p0, y_p1) {
    var Temporary1;

  var result_33555627 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555627 = Temporary1;

  return result_33555627;

}

function calcWrappedOverlayedSize__buju_u298(l_p0, n_p1) {
  var result_520093999 = 0.0;

    var needSize_520094001 = 0.0;
    var needSize2_520094002 = 0.0;
    Label1: {
      var child_520094003 = null;
      var id_520095026 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095026))) break Label3;
            var node_520095028 = l_p0.nodes[((id_520095026 - 1) >>> 0)];
            id_520095026 = node_520095028.nextSibling;
            child_520094003 = node_520095028;
            if (child_520094003.isBreak) {
            needSize2_520094002 = (needSize2_520094002 + needSize_520094001);
            needSize_520094001 = 0.0;
            }
            
            var size_520094007 = ((child_520094003.computed.arr[1] + child_520094003.computed.arr[3]) + child_520094003.margin.arr[3]);
            needSize_520094001 = max__system_u1192(needSize_520094001, size_520094007);
          }
      };
    };
    result_520093999 = (needSize_520094001 + needSize2_520094002);

  return result_520093999;

}

function calcWrappedStackedSize__buju_u312(l_p0, n_p1) {
  var result_520094013 = 0.0;

    var needSize_520094015 = 0.0;
    var needSize2_520094016 = 0.0;
    Label1: {
      var child_520094017 = null;
      var id_520095030 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095030))) break Label3;
            var node_520095032 = l_p0.nodes[((id_520095030 - 1) >>> 0)];
            id_520095030 = node_520095032.nextSibling;
            child_520094017 = node_520095032;
            if (child_520094017.isBreak) {
            needSize2_520094016 = max__system_u1192(needSize2_520094016, needSize_520094015);
            needSize_520094015 = 0.0;
            }
            
            var size_520094021 = ((child_520094017.computed.arr[0] + child_520094017.computed.arr[2]) + child_520094017.margin.arr[2]);
            needSize_520094015 = (needSize_520094015 + size_520094021);
          }
      };
    };

  return result_520094013;

}

function calcStackedSize__buju_u326(l_p0, n_p1) {
  var result_520094027 = 0.0;

    Label1: {
      var child_520094029 = null;
      var id_520095034 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095034))) break Label3;
            var node_520095036 = l_p0.nodes[((id_520095034 - 1) >>> 0)];
            id_520095034 = node_520095036.nextSibling;
            child_520094029 = node_520095036;
            var size_520094033 = ((child_520094029.computed.arr[0] + child_520094029.computed.arr[2]) + child_520094029.margin.arr[2]);
            result_520094027 = (result_520094027 + size_520094033);
          }
      };
    };

  return result_520094027;

}

function calcSize__buju_u241(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;
      var Temporary6;
      var Temporary7;

  BeforeRet: {
    n_p1.isBreak = false;
    Label1: {
      var child_520093943 = null;
      var id_520095014 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095014))) break Label3;
            var node_520095016 = l_p0.nodes[((id_520095014 - 1) >>> 0)];
            id_520095014 = node_520095016.nextSibling;
            child_520093943 = node_520095016;
            calcSize__buju_u241(l_p0, child_520093943);
          }
      };
    };
    n_p1.computed.arr[0] = n_p1.margin.arr[0];
    if ((0.0 < n_p1.size.arr[0])) {
    n_p1.computed.arr[2] = n_p1.size.arr[0];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (false) {
      Temporary5 = calcStackedSize__buju_u258(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u286(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (false) {
      Temporary6 = calcWrappedOverlayedSize__buju_u298(l_p0, n_p1);
      }
      else {
      Temporary6 = calcWrappedStackedSize__buju_u312(l_p0, n_p1);
      }
      
      Temporary4 = Temporary6;
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      Temporary7 = calcStackedSize__buju_u326(l_p0, n_p1);
      }
      else {
      Temporary7 = calcOverlayedSize__buju_u286(l_p0, n_p1);
      }
      
      Temporary4 = Temporary7;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u286(l_p0, n_p1);
      }
    n_p1.computed.arr[2] = Temporary4;
  };

  
}

function firstChild__buju_u53(l_p0, n_p1) {
  var result_520093752 = null;

  BeforeRet: {
    var id_520093753 = n_p1.firstChild;
    if (!(isNil__buju_u34(id_520093753))) {
    result_520093752 = l_p0.nodes[((id_520093753 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093752;

}

function nextSibling__buju_u102(l_p0, n_p1) {
  var result_520093801 = null;

  BeforeRet: {
    var id_520093802 = n_p1.nextSibling;
    if (!(isNil__buju_u34(id_520093802))) {
    result_520093801 = l_p0.nodes[((id_520093802 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093801;

}

function HEX2BHEX3D__buju_u432(x_p0, x_p0_Idx, y_p1) {
    x_p0[x_p0_Idx] = (x_p0[x_p0_Idx] + y_p1);

  
}

function min__system_u1159(x_p0, y_p1) {
    var Temporary1;

  var result_33555594 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555594 = Temporary1;

  return result_33555594;

}

function arrangeStacked__buju_u355(l_p0, n_p1) {
                var Temporary7;

    var computed_520094059 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094061 = computed_520094059.arr[3];
    var maxX2_520094063 = (computed_520094059.arr[1] + space_520094061);
    var firstChild_520094064 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094065 = firstChild_520094064;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094065 == null))) break Label2;
          var used_520094069 = 0.0;
          var count_520094070 = 0;
          var squeezedCount_520094071 = 0;
          var total_520094072 = 0;
          var itemCount_520094073 = 0;
          var child_520094074 = startChild_520094065;
          var endChild_520094075 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094074 == null))) break Label4;
                itemCount_520094073 += 1;
                var extend_520094086 = ((used_520094069 + child_520094074.computed.arr[1]) + child_520094074.margin.arr[3]);
                if (((((((child_520094074.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094070 += 1;
                }
                else {
                  if ((child_520094074.size.arr[1] <= 0.0)) {
                  squeezedCount_520094071 += 1;
                  }
                  
                  extend_520094086 = (extend_520094086 + child_520094074.computed.arr[3]);
                }
                
                if (((0 < total_520094072) && (space_520094061 < extend_520094086))) {
                endChild_520094075 = child_520094074;
                child_520094074.isBreak = true;
                itemCount_520094073 = 0;
                break Label3;
                }
                
                total_520094072 += 1;
                used_520094069 = extend_520094086;
                child_520094074 = nextSibling__buju_u102(l_p0, child_520094074);
              }
          };
          child_520094074 = startChild_520094065;
          startChild_520094065 = endChild_520094075;
          var extraSpace_520094109 = (space_520094061 - used_520094069);
          var filler_520094110 = 0.0;
          var spacer_520094111 = 0.0;
          var extraMargin_520094112 = 0.0;
          var eater_520094113 = 0.0;
          if ((0.0 < extraSpace_520094109)) {
          if ((0 < count_520094070)) {
          filler_520094110 = (extraSpace_520094109 / count_520094070);
          }
          else {
          if ((0 < total_520094072)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094073) || !((endChild_520094075 == null))))) {
            spacer_520094111 = (extraSpace_520094109 / (total_520094072 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094112 = extraSpace_520094109;
            }
          else{
            extraMargin_520094112 = (extraSpace_520094109 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094118 = [computed_520094059.arr[1]];
          var x1_520094119 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094074 == null)) && !((child_520094074 == endChild_520094075)))) break Label6;
                HEX2BHEX3D__buju_u432(x_520094118, 0, (child_520094074.computed.arr[1] + extraMargin_520094112));
                if (((((((child_520094074.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094119 = (x_520094118[0] + filler_520094110);
                }
                else {
                if ((0.0 < child_520094074.size.arr[1])) {
                x1_520094119 = (x_520094118[0] + child_520094074.computed.arr[3]);
                }
                else {
                  x1_520094119 = (x_520094118[0] + max__system_u1192(0.0, (child_520094074.computed.arr[3] + eater_520094113)));
                }
                }
                var ix0_520094140 = x_520094118[0];
                if (true) {
                Temporary7 = min__system_u1159((maxX2_520094063 - child_520094074.margin.arr[3]), x1_520094119);
                }
                else {
                Temporary7 = x1_520094119;
                }
                
                var ix1_520094142 = Temporary7;
                child_520094074.computed.arr[1] = ix0_520094140;
                child_520094074.computed.arr[3] = (ix1_520094142 - ix0_520094140);
                extraMargin_520094112 = spacer_520094111;
                x_520094118[0] = (x1_520094119 + child_520094074.margin.arr[3]);
                child_520094074 = nextSibling__buju_u102(l_p0, child_520094074);
              }
          };
        }
    };

  
}

function min__system_u1163(x_p0, y_p1) {
    var Temporary1;

  var result_33555598 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555598 = Temporary1;

  return result_33555598;

}

function arrangeOverlaySqueezedRange__buju_u465(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094170 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094170 == null)) && !((child_520094170 == endChild_p3)))) break Label2;
          var minSize_520094180 = max__system_u1196(0.0, ((space_p5 - child_520094170.computed.arr[0]) - child_520094170.margin.arr[2]));
          if (          (((((child_520094170.layoutFlags & 31)) | 0) >> 0) & 5) == 5          ){            child_520094170.computed.arr[2] = minSize_520094180;
            }
          else if (          (((((child_520094170.layoutFlags & 31)) | 0) >> 0) & 5) == 1          ){            child_520094170.computed.arr[2] = min__system_u1163(child_520094170.computed.arr[2], minSize_520094180);
            }
          else if (          (((((child_520094170.layoutFlags & 31)) | 0) >> 0) & 5) == 4          ){            child_520094170.computed.arr[2] = min__system_u1163(child_520094170.computed.arr[2], minSize_520094180);
            child_520094170.computed.arr[0] = ((space_p5 - child_520094170.computed.arr[2]) - child_520094170.margin.arr[2]);
            }
          else{
            child_520094170.computed.arr[2] = min__system_u1163(child_520094170.computed.arr[2], minSize_520094180);
            child_520094170.computed.arr[0] = (child_520094170.computed.arr[0] + max__system_u1196(0.0, (((space_p5 - child_520094170.computed.arr[2]) / 2.0) - child_520094170.margin.arr[2])));
            }
          child_520094170.computed.arr[0] = (child_520094170.computed.arr[0] + offset_p4);
          child_520094170 = nextSibling__buju_u102(l_p0, child_520094170);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u450(l_p0, n_p1) {
  var result_520094151 = 0.0;

    var offset_520094154 = n_p1.computed.arr[0];
    var needSize_520094155 = 0.0;
    var child_520094156 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094157 = child_520094156;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094156 == null))) break Label2;
          if (child_520094156.isBreak) {
          arrangeOverlaySqueezedRange__buju_u465(l_p0, startChild_520094157, child_520094156, offset_520094154, needSize_520094155);
          offset_520094154 = (offset_520094154 + needSize_520094155);
          startChild_520094157 = child_520094156;
          needSize_520094155 = 0.0;
          }
          
          var childSize_520094205 = ((child_520094156.computed.arr[0] + child_520094156.computed.arr[2]) + child_520094156.margin.arr[2]);
          needSize_520094155 = max__system_u1192(needSize_520094155, childSize_520094205);
          child_520094156 = nextSibling__buju_u102(l_p0, child_520094156);
        }
    };
    arrangeOverlaySqueezedRange__buju_u465(l_p0, startChild_520094157, null, offset_520094154, needSize_520094155);
    result_520094151 = (offset_520094154 + needSize_520094155);

  return result_520094151;

}

function arrangeOverlaySqueezedRange__buju_u542(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094247 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094247 == null)) && !((child_520094247 == endChild_p3)))) break Label2;
          var minSize_520094257 = max__system_u1196(0.0, ((space_p5 - child_520094247.computed.arr[1]) - child_520094247.margin.arr[3]));
          if (          (((((child_520094247.layoutFlags & 31)) | 0) >> 1) & 5) == 5          ){            child_520094247.computed.arr[3] = minSize_520094257;
            }
          else if (          (((((child_520094247.layoutFlags & 31)) | 0) >> 1) & 5) == 1          ){            child_520094247.computed.arr[3] = min__system_u1163(child_520094247.computed.arr[3], minSize_520094257);
            }
          else if (          (((((child_520094247.layoutFlags & 31)) | 0) >> 1) & 5) == 4          ){            child_520094247.computed.arr[3] = min__system_u1163(child_520094247.computed.arr[3], minSize_520094257);
            child_520094247.computed.arr[1] = ((space_p5 - child_520094247.computed.arr[3]) - child_520094247.margin.arr[3]);
            }
          else{
            child_520094247.computed.arr[3] = min__system_u1163(child_520094247.computed.arr[3], minSize_520094257);
            child_520094247.computed.arr[1] = (child_520094247.computed.arr[1] + max__system_u1196(0.0, (((space_p5 - child_520094247.computed.arr[3]) / 2.0) - child_520094247.margin.arr[3])));
            }
          child_520094247.computed.arr[1] = (child_520094247.computed.arr[1] + offset_p4);
          child_520094247 = nextSibling__buju_u102(l_p0, child_520094247);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u527(l_p0, n_p1) {
  var result_520094228 = 0.0;

    var offset_520094231 = n_p1.computed.arr[1];
    var needSize_520094232 = 0.0;
    var child_520094233 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094234 = child_520094233;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094233 == null))) break Label2;
          if (child_520094233.isBreak) {
          arrangeOverlaySqueezedRange__buju_u542(l_p0, startChild_520094234, child_520094233, offset_520094231, needSize_520094232);
          offset_520094231 = (offset_520094231 + needSize_520094232);
          startChild_520094234 = child_520094233;
          needSize_520094232 = 0.0;
          }
          
          var childSize_520094282 = ((child_520094233.computed.arr[1] + child_520094233.computed.arr[3]) + child_520094233.margin.arr[3]);
          needSize_520094232 = max__system_u1192(needSize_520094232, childSize_520094282);
          child_520094233 = nextSibling__buju_u102(l_p0, child_520094233);
        }
    };
    arrangeOverlaySqueezedRange__buju_u542(l_p0, startChild_520094234, null, offset_520094231, needSize_520094232);
    result_520094228 = (offset_520094231 + needSize_520094232);

  return result_520094228;

}

function arrangeStacked__buju_u595(l_p0, n_p1) {
                var Temporary7;

    var computed_520094299 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094301 = computed_520094299.arr[2];
    var maxX2_520094303 = (computed_520094299.arr[0] + space_520094301);
    var firstChild_520094304 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094305 = firstChild_520094304;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094305 == null))) break Label2;
          var used_520094309 = 0.0;
          var count_520094310 = 0;
          var squeezedCount_520094311 = 0;
          var total_520094312 = 0;
          var itemCount_520094313 = 0;
          var child_520094314 = startChild_520094305;
          var endChild_520094315 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094314 == null))) break Label4;
                itemCount_520094313 += 1;
                var extend_520094326 = ((used_520094309 + child_520094314.computed.arr[0]) + child_520094314.margin.arr[2]);
                if (((((((child_520094314.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094310 += 1;
                }
                else {
                  if ((child_520094314.size.arr[0] <= 0.0)) {
                  squeezedCount_520094311 += 1;
                  }
                  
                  extend_520094326 = (extend_520094326 + child_520094314.computed.arr[2]);
                }
                
                if (((0 < total_520094312) && (space_520094301 < extend_520094326))) {
                endChild_520094315 = child_520094314;
                child_520094314.isBreak = true;
                itemCount_520094313 = 0;
                break Label3;
                }
                
                total_520094312 += 1;
                used_520094309 = extend_520094326;
                child_520094314 = nextSibling__buju_u102(l_p0, child_520094314);
              }
          };
          child_520094314 = startChild_520094305;
          startChild_520094305 = endChild_520094315;
          var extraSpace_520094349 = (space_520094301 - used_520094309);
          var filler_520094350 = 0.0;
          var spacer_520094351 = 0.0;
          var extraMargin_520094352 = 0.0;
          var eater_520094353 = 0.0;
          if ((0.0 < extraSpace_520094349)) {
          if ((0 < count_520094310)) {
          filler_520094350 = (extraSpace_520094349 / count_520094310);
          }
          else {
          if ((0 < total_520094312)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094313) || !((endChild_520094315 == null))))) {
            spacer_520094351 = (extraSpace_520094349 / (total_520094312 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094352 = extraSpace_520094349;
            }
          else{
            extraMargin_520094352 = (extraSpace_520094349 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094358 = [computed_520094299.arr[0]];
          var x1_520094359 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094314 == null)) && !((child_520094314 == endChild_520094315)))) break Label6;
                HEX2BHEX3D__buju_u432(x_520094358, 0, (child_520094314.computed.arr[0] + extraMargin_520094352));
                if (((((((child_520094314.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094359 = (x_520094358[0] + filler_520094350);
                }
                else {
                if ((0.0 < child_520094314.size.arr[0])) {
                x1_520094359 = (x_520094358[0] + child_520094314.computed.arr[2]);
                }
                else {
                  x1_520094359 = (x_520094358[0] + max__system_u1192(0.0, (child_520094314.computed.arr[2] + eater_520094353)));
                }
                }
                var ix0_520094380 = x_520094358[0];
                if (true) {
                Temporary7 = min__system_u1159((maxX2_520094303 - child_520094314.margin.arr[2]), x1_520094359);
                }
                else {
                Temporary7 = x1_520094359;
                }
                
                var ix1_520094382 = Temporary7;
                child_520094314.computed.arr[0] = ix0_520094380;
                child_520094314.computed.arr[2] = (ix1_520094382 - ix0_520094380);
                extraMargin_520094352 = spacer_520094351;
                x_520094358[0] = (x1_520094359 + child_520094314.margin.arr[2]);
                child_520094314 = nextSibling__buju_u102(l_p0, child_520094314);
              }
          };
        }
    };

  
}

function arrangeStacked__buju_u690(l_p0, n_p1) {
                var Temporary7;

    var computed_520094394 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094396 = computed_520094394.arr[2];
    var maxX2_520094398 = (computed_520094394.arr[0] + space_520094396);
    var firstChild_520094399 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094400 = firstChild_520094399;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094400 == null))) break Label2;
          var used_520094404 = 0.0;
          var count_520094405 = 0;
          var squeezedCount_520094406 = 0;
          var total_520094407 = 0;
          var itemCount_520094408 = 0;
          var child_520094409 = startChild_520094400;
          var endChild_520094410 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094409 == null))) break Label4;
                itemCount_520094408 += 1;
                var extend_520094421 = ((used_520094404 + child_520094409.computed.arr[0]) + child_520094409.margin.arr[2]);
                if (((((((child_520094409.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094405 += 1;
                }
                else {
                  if ((child_520094409.size.arr[0] <= 0.0)) {
                  squeezedCount_520094406 += 1;
                  }
                  
                  extend_520094421 = (extend_520094421 + child_520094409.computed.arr[2]);
                }
                
                total_520094407 += 1;
                used_520094404 = extend_520094421;
                child_520094409 = nextSibling__buju_u102(l_p0, child_520094409);
              }
          };
          child_520094409 = startChild_520094400;
          startChild_520094400 = endChild_520094410;
          var extraSpace_520094444 = (space_520094396 - used_520094404);
          var filler_520094445 = 0.0;
          var spacer_520094446 = 0.0;
          var extraMargin_520094447 = 0.0;
          var eater_520094448 = 0.0;
          if ((0.0 < extraSpace_520094444)) {
          if ((0 < count_520094405)) {
          filler_520094445 = (extraSpace_520094444 / count_520094405);
          }
          else {
          if ((0 < total_520094407)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094408) || !((endChild_520094410 == null))))) {
            spacer_520094446 = (extraSpace_520094444 / (total_520094407 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094447 = extraSpace_520094444;
            }
          else{
            extraMargin_520094447 = (extraSpace_520094444 / 2.0);
            }
          }
          }
          }
          else {
            if ((extraSpace_520094444 < 0.0)) {
            eater_520094448 = (extraSpace_520094444 / squeezedCount_520094406);
            }
            
          }
          
          var x_520094453 = [computed_520094394.arr[0]];
          var x1_520094454 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094409 == null)) && !((child_520094409 == endChild_520094410)))) break Label6;
                HEX2BHEX3D__buju_u432(x_520094453, 0, (child_520094409.computed.arr[0] + extraMargin_520094447));
                if (((((((child_520094409.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094454 = (x_520094453[0] + filler_520094445);
                }
                else {
                if ((0.0 < child_520094409.size.arr[0])) {
                x1_520094454 = (x_520094453[0] + child_520094409.computed.arr[2]);
                }
                else {
                  x1_520094454 = (x_520094453[0] + max__system_u1192(0.0, (child_520094409.computed.arr[2] + eater_520094448)));
                }
                }
                var ix0_520094475 = x_520094453[0];
                if (false) {
                Temporary7 = min__system_u1159((maxX2_520094398 - child_520094409.margin.arr[2]), x1_520094454);
                }
                else {
                Temporary7 = x1_520094454;
                }
                
                var ix1_520094477 = Temporary7;
                child_520094409.computed.arr[0] = ix0_520094475;
                child_520094409.computed.arr[2] = (ix1_520094477 - ix0_520094475);
                extraMargin_520094447 = spacer_520094446;
                x_520094453[0] = (x1_520094454 + child_520094409.margin.arr[2]);
                child_520094409 = nextSibling__buju_u102(l_p0, child_520094409);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u795(l_p0, n_p1) {
    var offset_520094498 = n_p1.computed.arr[0];
    var space_520094500 = n_p1.computed.arr[2];
    Label1: {
      var child_520094501 = null;
      var id_520095059 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095059))) break Label3;
            var node_520095061 = l_p0.nodes[((id_520095059 - 1) >>> 0)];
            id_520095059 = node_520095061.nextSibling;
            child_520094501 = node_520095061;
            if (            (((((child_520094501.layoutFlags & 31)) | 0) >> 0) & 5) == 5            ){              child_520094501.computed.arr[2] = max__system_u1192(0.0, ((space_520094500 - child_520094501.computed.arr[0]) - child_520094501.margin.arr[2]));
              }
            else if (            (((((child_520094501.layoutFlags & 31)) | 0) >> 0) & 5) == 4            ){              child_520094501.computed.arr[0] = ((((child_520094501.computed.arr[0] + space_520094500) - child_520094501.computed.arr[2]) - child_520094501.margin.arr[0]) - child_520094501.margin.arr[2]);
              }
            else if (            (((((child_520094501.layoutFlags & 31)) | 0) >> 0) & 5) == 1            ){              }
            else{
              child_520094501.computed.arr[0] = (child_520094501.computed.arr[0] + max__system_u1192(0.0, (((space_520094500 - child_520094501.computed.arr[2]) / 2.0) - child_520094501.margin.arr[2])));
              }
            child_520094501.computed.arr[0] = (child_520094501.computed.arr[0] + offset_520094498);
          }
      };
    };

  
}

function arrange__buju_u349(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (false) {
      arrangeStacked__buju_u355(l_p0, n_p1);
      var offset_520094214 = arrangeWrappedOverlaySqueezed__buju_u450(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094214 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094217 = null;
        var id_520095038 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u34(id_520095038))) break Label3;
              var node_520095040 = l_p0.nodes[((id_520095038 - 1) >>> 0)];
              id_520095038 = node_520095040.nextSibling;
              child_520094217 = node_520095040;
              arrange__buju_u349(l_p0, child_520094217);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (false) {
      (arrangeWrappedOverlaySqueezed__buju_u527(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u595(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      arrangeStacked__buju_u690(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u465(l_p0, firstChild__buju_u53(l_p0, n_p1), null, n_p1.computed.arr[0], n_p1.computed.arr[2]);
      }
      
      }
    else{
      arrangeOverlay__buju_u795(l_p0, n_p1);
      }
    Label4: {
      var child_520094521 = null;
      var id_520095042 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u34(id_520095042))) break Label6;
            var node_520095044 = l_p0.nodes[((id_520095042 - 1) >>> 0)];
            id_520095042 = node_520095044.nextSibling;
            child_520094521 = node_520095044;
            arrange__buju_u349(l_p0, child_520094521);
          }
      };
    };
  };

  
}

function calcOverlayedSize__buju_u873(l_p0, n_p1) {
  var result_520094574 = 0.0;

    Label1: {
      var child_520094576 = null;
      var id_520095067 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095067))) break Label3;
            var node_520095069 = l_p0.nodes[((id_520095067 - 1) >>> 0)];
            id_520095067 = node_520095069.nextSibling;
            child_520094576 = node_520095069;
            var size_520094580 = ((child_520094576.computed.arr[1] + child_520094576.computed.arr[3]) + child_520094576.margin.arr[3]);
            result_520094574 = max__system_u1196(size_520094580, result_520094574);
          }
      };
    };

  return result_520094574;

}

function calcSize__buju_u831(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;
      var Temporary6;
      var Temporary7;

  BeforeRet: {
    Label1: {
      var child_520094533 = null;
      var id_520095063 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095063))) break Label3;
            var node_520095065 = l_p0.nodes[((id_520095063 - 1) >>> 0)];
            id_520095063 = node_520095065.nextSibling;
            child_520094533 = node_520095065;
            calcSize__buju_u831(l_p0, child_520094533);
          }
      };
    };
    n_p1.computed.arr[1] = n_p1.margin.arr[1];
    if ((0.0 < n_p1.size.arr[1])) {
    n_p1.computed.arr[3] = n_p1.size.arr[1];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (true) {
      Temporary5 = calcStackedSize__buju_u258(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u286(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (true) {
      Temporary6 = calcWrappedOverlayedSize__buju_u298(l_p0, n_p1);
      }
      else {
      Temporary6 = calcWrappedStackedSize__buju_u312(l_p0, n_p1);
      }
      
      Temporary4 = Temporary6;
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      Temporary7 = calcStackedSize__buju_u258(l_p0, n_p1);
      }
      else {
      Temporary7 = calcOverlayedSize__buju_u873(l_p0, n_p1);
      }
      
      Temporary4 = Temporary7;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u873(l_p0, n_p1);
      }
    n_p1.computed.arr[3] = Temporary4;
  };

  
}

function arrangeStacked__buju_u930(l_p0, n_p1) {
                var Temporary7;

    var computed_520094634 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094636 = computed_520094634.arr[3];
    var maxX2_520094638 = (computed_520094634.arr[1] + space_520094636);
    var firstChild_520094639 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094640 = firstChild_520094639;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094640 == null))) break Label2;
          var used_520094644 = 0.0;
          var count_520094645 = 0;
          var squeezedCount_520094646 = 0;
          var total_520094647 = 0;
          var itemCount_520094648 = 0;
          var child_520094649 = startChild_520094640;
          var endChild_520094650 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094649 == null))) break Label4;
                itemCount_520094648 += 1;
                var extend_520094661 = ((used_520094644 + child_520094649.computed.arr[1]) + child_520094649.margin.arr[3]);
                if (((((((child_520094649.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094645 += 1;
                }
                else {
                  if ((child_520094649.size.arr[1] <= 0.0)) {
                  squeezedCount_520094646 += 1;
                  }
                  
                  extend_520094661 = (extend_520094661 + child_520094649.computed.arr[3]);
                }
                
                total_520094647 += 1;
                used_520094644 = extend_520094661;
                child_520094649 = nextSibling__buju_u102(l_p0, child_520094649);
              }
          };
          child_520094649 = startChild_520094640;
          startChild_520094640 = endChild_520094650;
          var extraSpace_520094684 = (space_520094636 - used_520094644);
          var filler_520094685 = 0.0;
          var spacer_520094686 = 0.0;
          var extraMargin_520094687 = 0.0;
          var eater_520094688 = 0.0;
          if ((0.0 < extraSpace_520094684)) {
          if ((0 < count_520094645)) {
          filler_520094685 = (extraSpace_520094684 / count_520094645);
          }
          else {
          if ((0 < total_520094647)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094648) || !((endChild_520094650 == null))))) {
            spacer_520094686 = (extraSpace_520094684 / (total_520094647 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094687 = extraSpace_520094684;
            }
          else{
            extraMargin_520094687 = (extraSpace_520094684 / 2.0);
            }
          }
          }
          }
          else {
            if ((extraSpace_520094684 < 0.0)) {
            eater_520094688 = (extraSpace_520094684 / squeezedCount_520094646);
            }
            
          }
          
          var x_520094693 = [computed_520094634.arr[1]];
          var x1_520094694 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094649 == null)) && !((child_520094649 == endChild_520094650)))) break Label6;
                HEX2BHEX3D__buju_u432(x_520094693, 0, (child_520094649.computed.arr[1] + extraMargin_520094687));
                if (((((((child_520094649.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094694 = (x_520094693[0] + filler_520094685);
                }
                else {
                if ((0.0 < child_520094649.size.arr[1])) {
                x1_520094694 = (x_520094693[0] + child_520094649.computed.arr[3]);
                }
                else {
                  x1_520094694 = (x_520094693[0] + max__system_u1192(0.0, (child_520094649.computed.arr[3] + eater_520094688)));
                }
                }
                var ix0_520094715 = x_520094693[0];
                if (false) {
                Temporary7 = min__system_u1159((maxX2_520094638 - child_520094649.margin.arr[3]), x1_520094694);
                }
                else {
                Temporary7 = x1_520094694;
                }
                
                var ix1_520094717 = Temporary7;
                child_520094649.computed.arr[1] = ix0_520094715;
                child_520094649.computed.arr[3] = (ix1_520094717 - ix0_520094715);
                extraMargin_520094687 = spacer_520094686;
                x_520094693[0] = (x1_520094694 + child_520094649.margin.arr[3]);
                child_520094649 = nextSibling__buju_u102(l_p0, child_520094649);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u1035(l_p0, n_p1) {
    var offset_520094738 = n_p1.computed.arr[1];
    var space_520094740 = n_p1.computed.arr[3];
    Label1: {
      var child_520094741 = null;
      var id_520095082 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095082))) break Label3;
            var node_520095084 = l_p0.nodes[((id_520095082 - 1) >>> 0)];
            id_520095082 = node_520095084.nextSibling;
            child_520094741 = node_520095084;
            if (            (((((child_520094741.layoutFlags & 31)) | 0) >> 1) & 5) == 5            ){              child_520094741.computed.arr[3] = max__system_u1192(0.0, ((space_520094740 - child_520094741.computed.arr[1]) - child_520094741.margin.arr[3]));
              }
            else if (            (((((child_520094741.layoutFlags & 31)) | 0) >> 1) & 5) == 4            ){              child_520094741.computed.arr[1] = ((((child_520094741.computed.arr[1] + space_520094740) - child_520094741.computed.arr[3]) - child_520094741.margin.arr[1]) - child_520094741.margin.arr[3]);
              }
            else if (            (((((child_520094741.layoutFlags & 31)) | 0) >> 1) & 5) == 1            ){              }
            else{
              child_520094741.computed.arr[1] = (child_520094741.computed.arr[1] + max__system_u1192(0.0, (((space_520094740 - child_520094741.computed.arr[3]) / 2.0) - child_520094741.margin.arr[3])));
              }
            child_520094741.computed.arr[1] = (child_520094741.computed.arr[1] + offset_520094738);
          }
      };
    };

  
}

function arrange__buju_u891(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (true) {
      arrangeStacked__buju_u355(l_p0, n_p1);
      var offset_520094605 = arrangeWrappedOverlaySqueezed__buju_u450(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094605 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094608 = null;
        var id_520095071 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u34(id_520095071))) break Label3;
              var node_520095073 = l_p0.nodes[((id_520095071 - 1) >>> 0)];
              id_520095071 = node_520095073.nextSibling;
              child_520094608 = node_520095073;
              arrange__buju_u349(l_p0, child_520094608);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (true) {
      (arrangeWrappedOverlaySqueezed__buju_u527(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u595(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      arrangeStacked__buju_u930(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u542(l_p0, firstChild__buju_u53(l_p0, n_p1), null, n_p1.computed.arr[1], n_p1.computed.arr[3]);
      }
      
      }
    else{
      arrangeOverlay__buju_u1035(l_p0, n_p1);
      }
    Label4: {
      var child_520094761 = null;
      var id_520095075 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u34(id_520095075))) break Label6;
            var node_520095077 = l_p0.nodes[((id_520095075 - 1) >>> 0)];
            id_520095075 = node_520095077.nextSibling;
            child_520094761 = node_520095077;
            arrange__buju_u891(l_p0, child_520094761);
          }
      };
    };
  };

  
}

function compute__buju_u236(l_p0, n_p1) {
    calcSize__buju_u241(l_p0, n_p1);
    arrange__buju_u349(l_p0, n_p1);
    calcSize__buju_u831(l_p0, n_p1);
    arrange__buju_u891(l_p0, n_p1);

  
}

function compute(l_p0, id_p1) {
    var l_520094998 = l_p0;
    var node_520095002 = l_520094998.nodes[((id_p1 - 1) >>> 0)];
    compute__buju_u236(l_520094998, node_520095002);

  
}

function computed(l_p0, id_p1) {
  var result_520095006 = ({arr: new Float32Array(4)});

    var l_520095007 = l_p0;
    var node_520095011 = l_520095007.nodes[((id_p1 - 1) >>> 0)];
    result_520095006 = nimCopy(result_520095006, node_520095011.computed, NTI654311814);

  return result_520095006;

}
