/* Generated by the Nim Compiler v2.2.1 */
var framePtr = null;
var excHandler = 0;
var lastJSError = null;
var NTI654311815 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311814 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
var NTI33554446 = {size: 0,kind: 37,base: null,node: null,finalizer: null};
var NTI654311803 = {size: 0, kind: 16, base: null, node: null, finalizer: null};
var NTI654311802 = {size: 0, kind: 18, base: null, node: null, finalizer: null};
NTI654311803.base = NTI33554446;
var NNI654311802 = {kind: 1, offset: "arr", len: 0, typ: NTI654311803, name: "arr", sons: null};
NTI654311802.node = NNI654311802;
NTI654311815.base = NTI33554446;
var NNI654311814 = {kind: 1, offset: "arr", len: 0, typ: NTI654311815, name: "arr", sons: null};
NTI654311814.node = NNI654311814;

function setConstr() {
        var result = {};
    for (var i = 0; i < arguments.length; ++i) {
      var x = arguments[i];
      if (typeof(x) == "object") {
        for (var j = x[0]; j <= x[1]; ++j) {
          result[j] = true;
        }
      } else {
        result[x] = true;
      }
    }
    return result;
  

  
}
var ConstSet1 = setConstr(17, 16, 4, 18, 27, 19, 23, 22, 21);

function nimCopy(dest_p0, src_p1, ti_p2) {
  var result_33557326 = null;

    switch (ti_p2.kind) {
    case 21:
    case 22:
    case 23:
    case 5:
      if (!(isFatPointer__system_u2874(ti_p2))) {
      result_33557326 = src_p1;
      }
      else {
        result_33557326 = [src_p1[0], src_p1[1]];
      }
      
      break;
    case 19:
            if (dest_p0 === null || dest_p0 === undefined) {
        dest_p0 = {};
      }
      else {
        for (var key in dest_p0) { delete dest_p0[key]; }
      }
      for (var key in src_p1) { dest_p0[key] = src_p1[key]; }
      result_33557326 = dest_p0;
    
      break;
    case 18:
    case 17:
      if (!((ti_p2.base == null))) {
      result_33557326 = nimCopy(dest_p0, src_p1, ti_p2.base);
      }
      else {
      if ((ti_p2.kind == 17)) {
      result_33557326 = (dest_p0 === null || dest_p0 === undefined) ? {m_type: ti_p2} : dest_p0;
      }
      else {
        result_33557326 = (dest_p0 === null || dest_p0 === undefined) ? {} : dest_p0;
      }
      }
      nimCopyAux(result_33557326, src_p1, ti_p2.node);
      break;
    case 4:
    case 16:
            if(ArrayBuffer.isView(src_p1)) { 
        if(dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new src_p1.constructor(src_p1);
        } else {
          dest_p0.set(src_p1, 0);
        }
        result_33557326 = dest_p0;
      } else {
        if (src_p1 === null) {
          result_33557326 = null;
        }
        else {
          if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
            dest_p0 = new Array(src_p1.length);
          }
          result_33557326 = dest_p0;
          for (var i = 0; i < src_p1.length; ++i) {
            result_33557326[i] = nimCopy(result_33557326[i], src_p1[i], ti_p2.base);
          }
        }
      }
    
      break;
    case 24:
    case 27:
            if (src_p1 === null) {
        result_33557326 = null;
      }
      else {
        if (dest_p0 === null || dest_p0 === undefined || dest_p0.length != src_p1.length) {
          dest_p0 = new Array(src_p1.length);
        }
        result_33557326 = dest_p0;
        for (var i = 0; i < src_p1.length; ++i) {
          result_33557326[i] = nimCopy(result_33557326[i], src_p1[i], ti_p2.base);
        }
      }
    
      break;
    case 28:
            if (src_p1 !== null) {
        result_33557326 = src_p1.slice(0);
      }
    
      break;
    default: 
      result_33557326 = src_p1;
      break;
    }

  return result_33557326;

}

function len(l_p0) {
  var result_520094744 = 0;

    result_520094744 = (l_p0.nodes).length;

  return result_520094744;

}

function clear(l_p0) {
    if (l_p0.nodes.length < 0) { for (var i = l_p0.nodes.length ; i < 0 ; ++i) l_p0.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_p0.nodes.length = 0; };

  
}

function firstChild(l_p0, id_p1) {
  var result_520094789 = 0;

    var l_520094790 = l_p0;
    var node_520094794 = l_520094790.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094794 == null))) {
    result_520094789 = node_520094794.firstChild;
    }
    

  return result_520094789;

}

function lastChild(l_p0, id_p1) {
  var result_520094801 = 0;

    var l_520094802 = l_p0;
    var node_520094806 = l_520094802.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094806 == null))) {
    result_520094801 = node_520094806.lastChild;
    }
    

  return result_520094801;

}

function nextSibling(l_p0, id_p1) {
  var result_520094813 = 0;

    var l_520094814 = l_p0;
    var node_520094818 = l_520094814.nodes[((id_p1 - 1) >>> 0)];
    if (!((node_520094818 == null))) {
    result_520094813 = node_520094818.nextSibling;
    }
    

  return result_520094813;

}

function HEX2BHEX25__system_u783(x_p0, y_p1) {
  var result_33555218 = 0;

    result_33555218 = Number(BigInt.asIntN(32, BigInt(((Number(BigInt.asUintN(32, BigInt(x_p0))) + Number(BigInt.asUintN(32, BigInt(y_p1)))) >>> 0))));

  return result_33555218;

}

function node(l_p0) {
  var result_520094836 = 0;

    var l_520094837 = l_p0;
    var len_520094841 = (l_520094837.nodes).length;
    var newLen_520094842 = HEX2BHEX25__system_u783(len_520094841, 1);
    if (l_520094837.nodes.length < newLen_520094842) { for (var i = l_520094837.nodes.length ; i < newLen_520094842 ; ++i) l_520094837.nodes.push(({isBreak: false, boxFlags: 0, layoutFlags: 0, firstChild: 0, lastChild: 0, prevSibling: 0, nextSibling: 0, computed: ({arr: new Float32Array(4)}), margin: ({arr: new Float32Array(4)}), size: ({arr: new Float32Array(2)})})); }
               else { l_520094837.nodes.length = newLen_520094842; };
    result_520094836 = newLen_520094842;

  return result_520094836;

}

function setBoxFlags(l_p0, id_p1, boxFlags_p2) {
    var l_520094851 = l_p0;
    var node_520094855 = l_520094851.nodes[((id_p1 - 1) >>> 0)];
    node_520094855.boxFlags = boxFlags_p2;

  
}

function setLayoutFlags(l_p0, id_p1, layoutFlags_p2) {
    var l_520094860 = l_p0;
    var node_520094864 = l_520094860.nodes[((id_p1 - 1) >>> 0)];
    node_520094864.layoutFlags = layoutFlags_p2;

  
}

function isFatPointer__system_u2874(ti_p0) {
  var result_33557308 = false;

  BeforeRet: {
    result_33557308 = !((ConstSet1[ti_p0.base.kind] != undefined));
    break BeforeRet;
  };

  return result_33557308;

}

function nimCopyAux(dest_p0, src_p1, n_p2) {
    switch (n_p2.kind) {
    case 0:
      break;
    case 1:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
    
      break;
    case 2:
          for (var i = 0; i < n_p2.sons.length; i++) {
      nimCopyAux(dest_p0, src_p1, n_p2.sons[i]);
    }
    
      break;
    case 3:
            dest_p0[n_p2.offset] = nimCopy(dest_p0[n_p2.offset], src_p1[n_p2.offset], n_p2.typ);
      for (var i = 0; i < n_p2.sons.length; ++i) {
        nimCopyAux(dest_p0, src_p1, n_p2.sons[i][1]);
      }
    
      break;
    }

  
}

function setSize(l_p0, id_p1, size_p2) {
    var l_520094869 = l_p0;
    var node_520094873 = l_520094869.nodes[((id_p1 - 1) >>> 0)];
    node_520094873.size = nimCopy(node_520094873.size, size_p2, NTI654311802);

  
}

function setMargin(l_p0, id_p1, margin_p2) {
    var l_520094878 = l_p0;
    var node_520094882 = l_520094878.nodes[((id_p1 - 1) >>> 0)];
    node_520094882.margin = nimCopy(node_520094882.margin, margin_p2, NTI654311814);

  
}

function isNil__buju_u34(id_p0) {
  var result_520093732 = false;

    result_520093732 = (id_p0 == 0);

  return result_520093732;

}

function lastChild__buju_u94(l_p0, n_p1) {
  var result_520093793 = null;

  BeforeRet: {
    var id_520093794 = n_p1.lastChild;
    if (!(isNil__buju_u34(id_520093794))) {
    result_520093793 = l_p0.nodes[((id_520093794 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093793;

}

function insertChild(l_p0, parentId_p1, childId_p2) {
    var l_520094887 = l_p0;
    var parent_520094891 = l_520094887.nodes[((parentId_p1 - 1) >>> 0)];
    if (!(isNil__buju_u34(parent_520094891.lastChild))) {
    var lastChild_520094892 = lastChild__buju_u94(l_520094887, parent_520094891);
    lastChild_520094892.nextSibling = childId_p2;
    var node_520094896 = l_520094887.nodes[((childId_p2 - 1) >>> 0)];
    node_520094896.prevSibling = parent_520094891.lastChild;
    parent_520094891.lastChild = childId_p2;
    }
    else {
      parent_520094891.firstChild = childId_p2;
      parent_520094891.lastChild = childId_p2;
    }
    

  
}

function reset__buju_u1220(obj_p0, obj_p0_Idx) {
    obj_p0[obj_p0_Idx] = 0;

  
}

function removeChild(l_p0, parentId_p1, childId_p2) {
  BeforeRet: {
    var l_520094901 = l_p0;
    var node_520094905 = l_520094901.nodes[((childId_p2 - 1) >>> 0)];
    var parent_520094909 = l_520094901.nodes[((parentId_p1 - 1) >>> 0)];
    var prev_520094910 = node_520094905.prevSibling;
    var next_520094911 = node_520094905.nextSibling;
    if ((next_520094911 == prev_520094910)) {
    reset__buju_u1220(parent_520094909, "lastChild");
    reset__buju_u1220(parent_520094909, "firstChild");
    if (!(isNil__buju_u34(next_520094911))) {
    reset__buju_u1220(node_520094905, "prevSibling");
    reset__buju_u1220(node_520094905, "nextSibling");
    var sibling_520094940 = l_520094901.nodes[((next_520094911 - 1) >>> 0)];
    reset__buju_u1220(sibling_520094940, "prevSibling");
    reset__buju_u1220(sibling_520094940, "nextSibling");
    }
    
    break BeforeRet;
    }
    
    if ((parent_520094909.firstChild == childId_p2)) {
    parent_520094909.firstChild = next_520094911;
    }
    
    if ((parent_520094909.lastChild == childId_p2)) {
    parent_520094909.lastChild = prev_520094910;
    }
    
    if (!(isNil__buju_u34(next_520094911))) {
    var sibling_520094958 = l_520094901.nodes[((next_520094911 - 1) >>> 0)];
    sibling_520094958.prevSibling = prev_520094910;
    reset__buju_u1220(node_520094905, "nextSibling");
    }
    
    if (!(isNil__buju_u34(prev_520094910))) {
    var sibling_520094965 = l_520094901.nodes[((prev_520094910 - 1) >>> 0)];
    sibling_520094965.nextSibling = next_520094911;
    reset__buju_u1220(node_520094905, "prevSibling");
    }
    
  };

  
}

function max__system_u1196(x_p0, y_p1) {
    var Temporary1;

  var result_33555631 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555631 = Temporary1;

  return result_33555631;

}

function calcOverlayedSize__buju_u258(l_p0, n_p1) {
  var result_520093959 = 0.0;

    Label1: {
      var child_520093961 = null;
      var id_520094992 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520094992))) break Label3;
            var node_520094994 = l_p0.nodes[((id_520094992 - 1) >>> 0)];
            id_520094992 = node_520094994.nextSibling;
            child_520093961 = node_520094994;
            var size_520093965 = ((child_520093961.computed.arr[0] + child_520093961.computed.arr[2]) + child_520093961.margin.arr[2]);
            result_520093959 = max__system_u1196(size_520093965, result_520093959);
          }
      };
    };

  return result_520093959;

}

function max__system_u1192(x_p0, y_p1) {
    var Temporary1;

  var result_33555627 = 0.0;

    if (((y_p1 <= x_p0) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555627 = Temporary1;

  return result_33555627;

}

function calcWrappedStackedSize__buju_u286(l_p0, n_p1) {
  var result_520093987 = 0.0;

    var needSize_520093989 = 0.0;
    var needSize2_520093990 = 0.0;
    Label1: {
      var child_520093991 = null;
      var id_520094996 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520094996))) break Label3;
            var node_520094998 = l_p0.nodes[((id_520094996 - 1) >>> 0)];
            id_520094996 = node_520094998.nextSibling;
            child_520093991 = node_520094998;
            if (child_520093991.isBreak) {
            needSize2_520093990 = max__system_u1192(needSize2_520093990, needSize_520093989);
            needSize_520093989 = 0.0;
            }
            
            var size_520093995 = ((child_520093991.computed.arr[0] + child_520093991.computed.arr[2]) + child_520093991.margin.arr[2]);
            needSize_520093989 = (needSize_520093989 + size_520093995);
          }
      };
    };
    result_520093987 = max__system_u1192(needSize2_520093990, needSize_520093989);

  return result_520093987;

}

function calcStackedSize__buju_u300(l_p0, n_p1) {
  var result_520094001 = 0.0;

    Label1: {
      var child_520094003 = null;
      var id_520095000 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095000))) break Label3;
            var node_520095002 = l_p0.nodes[((id_520095000 - 1) >>> 0)];
            id_520095000 = node_520095002.nextSibling;
            child_520094003 = node_520095002;
            var size_520094007 = ((child_520094003.computed.arr[0] + child_520094003.computed.arr[2]) + child_520094003.margin.arr[2]);
            result_520094001 = (result_520094001 + size_520094007);
          }
      };
    };

  return result_520094001;

}

function calcSize__buju_u241(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;

  BeforeRet: {
    n_p1.isBreak = false;
    Label1: {
      var child_520093943 = null;
      var id_520094988 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520094988))) break Label3;
            var node_520094990 = l_p0.nodes[((id_520094988 - 1) >>> 0)];
            id_520094988 = node_520094990.nextSibling;
            child_520093943 = node_520094990;
            calcSize__buju_u241(l_p0, child_520093943);
          }
      };
    };
    n_p1.computed.arr[0] = n_p1.margin.arr[0];
    if ((0.0 < n_p1.size.arr[0])) {
    n_p1.computed.arr[2] = n_p1.size.arr[0];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      Temporary4 = calcOverlayedSize__buju_u258(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      Temporary4 = calcWrappedStackedSize__buju_u286(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      Temporary5 = calcStackedSize__buju_u300(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u258(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u258(l_p0, n_p1);
      }
    n_p1.computed.arr[2] = Temporary4;
  };

  
}

function firstChild__buju_u53(l_p0, n_p1) {
  var result_520093752 = null;

  BeforeRet: {
    var id_520093753 = n_p1.firstChild;
    if (!(isNil__buju_u34(id_520093753))) {
    result_520093752 = l_p0.nodes[((id_520093753 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093752;

}

function nextSibling__buju_u102(l_p0, n_p1) {
  var result_520093801 = null;

  BeforeRet: {
    var id_520093802 = n_p1.nextSibling;
    if (!(isNil__buju_u34(id_520093802))) {
    result_520093801 = l_p0.nodes[((id_520093802 - 1) >>> 0)];
    break BeforeRet;
    }
    
  };

  return result_520093801;

}

function HEX2BHEX3D__buju_u406(x_p0, x_p0_Idx, y_p1) {
    x_p0[x_p0_Idx] = (x_p0[x_p0_Idx] + y_p1);

  
}

function min__system_u1159(x_p0, y_p1) {
    var Temporary1;

  var result_33555594 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555594 = Temporary1;

  return result_33555594;

}

function arrangeStacked__buju_u329(l_p0, n_p1) {
    var computed_520094033 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094035 = computed_520094033.arr[3];
    var firstChild_520094036 = firstChild__buju_u53(l_p0, n_p1);
    var maxX2_520094038 = (computed_520094033.arr[1] + space_520094035);
    var startChild_520094039 = firstChild_520094036;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094039 == null))) break Label2;
          var used_520094043 = 0.0;
          var count_520094044 = 0;
          var squeezedCount_520094045 = 0;
          var total_520094046 = 0;
          var itemCount_520094047 = 0;
          var child_520094048 = startChild_520094039;
          var endChild_520094049 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094048 == null))) break Label4;
                itemCount_520094047 += 1;
                var extend_520094060 = ((used_520094043 + child_520094048.computed.arr[1]) + child_520094048.margin.arr[3]);
                if (((((((child_520094048.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094044 += 1;
                }
                else {
                  if ((child_520094048.size.arr[1] <= 0.0)) {
                  squeezedCount_520094045 += 1;
                  }
                  
                  extend_520094060 = (extend_520094060 + child_520094048.computed.arr[3]);
                }
                
                if (((0 < total_520094046) && (space_520094035 < extend_520094060))) {
                endChild_520094049 = child_520094048;
                child_520094048.isBreak = true;
                itemCount_520094047 = 0;
                break Label3;
                }
                
                total_520094046 += 1;
                used_520094043 = extend_520094060;
                child_520094048 = nextSibling__buju_u102(l_p0, child_520094048);
              }
          };
          child_520094048 = startChild_520094039;
          startChild_520094039 = endChild_520094049;
          var extraSpace_520094083 = (space_520094035 - used_520094043);
          var filler_520094084 = 0.0;
          var spacer_520094085 = 0.0;
          var extraMargin_520094086 = 0.0;
          var eater_520094087 = 0.0;
          if ((0.0 < extraSpace_520094083)) {
          if ((0 < count_520094044)) {
          filler_520094084 = (extraSpace_520094083 / count_520094044);
          }
          else {
          if ((0 < total_520094046)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094047) || !((endChild_520094049 == null))))) {
            spacer_520094085 = (extraSpace_520094083 / (total_520094046 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094086 = extraSpace_520094083;
            }
          else{
            extraMargin_520094086 = (extraSpace_520094083 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094092 = [computed_520094033.arr[1]];
          var x1_520094093 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094048 == null)) && !((child_520094048 == endChild_520094049)))) break Label6;
                HEX2BHEX3D__buju_u406(x_520094092, 0, (child_520094048.computed.arr[1] + extraMargin_520094086));
                if (((((((child_520094048.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094093 = (x_520094092[0] + filler_520094084);
                }
                else {
                if ((0.0 < child_520094048.size.arr[1])) {
                x1_520094093 = (x_520094092[0] + child_520094048.computed.arr[3]);
                }
                else {
                  x1_520094093 = (x_520094092[0] + max__system_u1192(0.0, (child_520094048.computed.arr[3] + eater_520094087)));
                }
                }
                var ix0_520094114 = x_520094092[0];
                var ix1_520094116 = min__system_u1159((maxX2_520094038 - child_520094048.margin.arr[3]), x1_520094093);
                child_520094048.computed.arr[1] = ix0_520094114;
                child_520094048.computed.arr[3] = (ix1_520094116 - ix0_520094114);
                extraMargin_520094086 = spacer_520094085;
                x_520094092[0] = (x1_520094093 + child_520094048.margin.arr[3]);
                child_520094048 = nextSibling__buju_u102(l_p0, child_520094048);
              }
          };
        }
    };

  
}

function min__system_u1163(x_p0, y_p1) {
    var Temporary1;

  var result_33555598 = 0.0;

    if (((x_p0 <= y_p1) || !((y_p1 == y_p1)))) {
    Temporary1 = x_p0;
    }
    else {
    Temporary1 = y_p1;
    }
    
    result_33555598 = Temporary1;

  return result_33555598;

}

function arrangeOverlaySqueezedRange__buju_u439(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094144 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094144 == null)) && !((child_520094144 == endChild_p3)))) break Label2;
          var minSize_520094154 = max__system_u1196(0.0, ((space_p5 - child_520094144.computed.arr[0]) - child_520094144.margin.arr[2]));
          if (          (((((child_520094144.layoutFlags & 31)) | 0) >> 0) & 5) == 5          ){            child_520094144.computed.arr[2] = minSize_520094154;
            }
          else if (          (((((child_520094144.layoutFlags & 31)) | 0) >> 0) & 5) == 1          ){            child_520094144.computed.arr[2] = min__system_u1163(child_520094144.computed.arr[2], minSize_520094154);
            }
          else if (          (((((child_520094144.layoutFlags & 31)) | 0) >> 0) & 5) == 4          ){            child_520094144.computed.arr[2] = min__system_u1163(child_520094144.computed.arr[2], minSize_520094154);
            child_520094144.computed.arr[0] = ((space_p5 - child_520094144.computed.arr[2]) - child_520094144.margin.arr[2]);
            }
          else{
            child_520094144.computed.arr[2] = min__system_u1163(child_520094144.computed.arr[2], minSize_520094154);
            child_520094144.computed.arr[0] = (child_520094144.computed.arr[0] + max__system_u1196(0.0, (((space_p5 - child_520094144.computed.arr[2]) / 2.0) - child_520094144.margin.arr[2])));
            }
          child_520094144.computed.arr[0] = (child_520094144.computed.arr[0] + offset_p4);
          child_520094144 = nextSibling__buju_u102(l_p0, child_520094144);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u424(l_p0, n_p1) {
  var result_520094125 = 0.0;

    var offset_520094128 = n_p1.computed.arr[0];
    var needSize_520094129 = 0.0;
    var child_520094130 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094131 = child_520094130;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094130 == null))) break Label2;
          if (child_520094130.isBreak) {
          arrangeOverlaySqueezedRange__buju_u439(l_p0, startChild_520094131, child_520094130, offset_520094128, needSize_520094129);
          offset_520094128 = (offset_520094128 + needSize_520094129);
          startChild_520094131 = child_520094130;
          needSize_520094129 = 0.0;
          }
          
          var childSize_520094179 = ((child_520094130.computed.arr[0] + child_520094130.computed.arr[2]) + child_520094130.margin.arr[2]);
          needSize_520094129 = max__system_u1192(needSize_520094129, childSize_520094179);
          child_520094130 = nextSibling__buju_u102(l_p0, child_520094130);
        }
    };
    arrangeOverlaySqueezedRange__buju_u439(l_p0, startChild_520094131, null, offset_520094128, needSize_520094129);
    result_520094125 = (offset_520094128 + needSize_520094129);

  return result_520094125;

}

function arrangeOverlaySqueezedRange__buju_u516(l_p0, startChild_p2, endChild_p3, offset_p4, space_p5) {
    var child_520094221 = startChild_p2;
    Label1: {
        Label2: while (true) {
        if (!(!((child_520094221 == null)) && !((child_520094221 == endChild_p3)))) break Label2;
          var minSize_520094231 = max__system_u1196(0.0, ((space_p5 - child_520094221.computed.arr[1]) - child_520094221.margin.arr[3]));
          if (          (((((child_520094221.layoutFlags & 31)) | 0) >> 1) & 5) == 5          ){            child_520094221.computed.arr[3] = minSize_520094231;
            }
          else if (          (((((child_520094221.layoutFlags & 31)) | 0) >> 1) & 5) == 1          ){            child_520094221.computed.arr[3] = min__system_u1163(child_520094221.computed.arr[3], minSize_520094231);
            }
          else if (          (((((child_520094221.layoutFlags & 31)) | 0) >> 1) & 5) == 4          ){            child_520094221.computed.arr[3] = min__system_u1163(child_520094221.computed.arr[3], minSize_520094231);
            child_520094221.computed.arr[1] = ((space_p5 - child_520094221.computed.arr[3]) - child_520094221.margin.arr[3]);
            }
          else{
            child_520094221.computed.arr[3] = min__system_u1163(child_520094221.computed.arr[3], minSize_520094231);
            child_520094221.computed.arr[1] = (child_520094221.computed.arr[1] + max__system_u1196(0.0, (((space_p5 - child_520094221.computed.arr[3]) / 2.0) - child_520094221.margin.arr[3])));
            }
          child_520094221.computed.arr[1] = (child_520094221.computed.arr[1] + offset_p4);
          child_520094221 = nextSibling__buju_u102(l_p0, child_520094221);
        }
    };

  
}

function arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1) {
  var result_520094202 = 0.0;

    var offset_520094205 = n_p1.computed.arr[1];
    var needSize_520094206 = 0.0;
    var child_520094207 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094208 = child_520094207;
    Label1: {
        Label2: while (true) {
        if (!!((child_520094207 == null))) break Label2;
          if (child_520094207.isBreak) {
          arrangeOverlaySqueezedRange__buju_u516(l_p0, startChild_520094208, child_520094207, offset_520094205, needSize_520094206);
          offset_520094205 = (offset_520094205 + needSize_520094206);
          startChild_520094208 = child_520094207;
          needSize_520094206 = 0.0;
          }
          
          var childSize_520094256 = ((child_520094207.computed.arr[1] + child_520094207.computed.arr[3]) + child_520094207.margin.arr[3]);
          needSize_520094206 = max__system_u1192(needSize_520094206, childSize_520094256);
          child_520094207 = nextSibling__buju_u102(l_p0, child_520094207);
        }
    };
    arrangeOverlaySqueezedRange__buju_u516(l_p0, startChild_520094208, null, offset_520094205, needSize_520094206);
    result_520094202 = (offset_520094205 + needSize_520094206);

  return result_520094202;

}

function arrangeStacked__buju_u569(l_p0, n_p1) {
    var computed_520094273 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094275 = computed_520094273.arr[2];
    var firstChild_520094276 = firstChild__buju_u53(l_p0, n_p1);
    var maxX2_520094278 = (computed_520094273.arr[0] + space_520094275);
    var startChild_520094279 = firstChild_520094276;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094279 == null))) break Label2;
          var used_520094283 = 0.0;
          var count_520094284 = 0;
          var squeezedCount_520094285 = 0;
          var total_520094286 = 0;
          var itemCount_520094287 = 0;
          var child_520094288 = startChild_520094279;
          var endChild_520094289 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094288 == null))) break Label4;
                itemCount_520094287 += 1;
                var extend_520094300 = ((used_520094283 + child_520094288.computed.arr[0]) + child_520094288.margin.arr[2]);
                if (((((((child_520094288.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094284 += 1;
                }
                else {
                  if ((child_520094288.size.arr[0] <= 0.0)) {
                  squeezedCount_520094285 += 1;
                  }
                  
                  extend_520094300 = (extend_520094300 + child_520094288.computed.arr[2]);
                }
                
                if (((0 < total_520094286) && (space_520094275 < extend_520094300))) {
                endChild_520094289 = child_520094288;
                child_520094288.isBreak = true;
                itemCount_520094287 = 0;
                break Label3;
                }
                
                total_520094286 += 1;
                used_520094283 = extend_520094300;
                child_520094288 = nextSibling__buju_u102(l_p0, child_520094288);
              }
          };
          child_520094288 = startChild_520094279;
          startChild_520094279 = endChild_520094289;
          var extraSpace_520094323 = (space_520094275 - used_520094283);
          var filler_520094324 = 0.0;
          var spacer_520094325 = 0.0;
          var extraMargin_520094326 = 0.0;
          var eater_520094327 = 0.0;
          if ((0.0 < extraSpace_520094323)) {
          if ((0 < count_520094284)) {
          filler_520094324 = (extraSpace_520094323 / count_520094284);
          }
          else {
          if ((0 < total_520094286)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((false || ((0 < itemCount_520094287) || !((endChild_520094289 == null))))) {
            spacer_520094325 = (extraSpace_520094323 / (total_520094286 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094326 = extraSpace_520094323;
            }
          else{
            extraMargin_520094326 = (extraSpace_520094323 / 2.0);
            }
          }
          }
          }
          else {
          }
          
          var x_520094332 = [computed_520094273.arr[0]];
          var x1_520094333 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094288 == null)) && !((child_520094288 == endChild_520094289)))) break Label6;
                HEX2BHEX3D__buju_u406(x_520094332, 0, (child_520094288.computed.arr[0] + extraMargin_520094326));
                if (((((((child_520094288.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094333 = (x_520094332[0] + filler_520094324);
                }
                else {
                if ((0.0 < child_520094288.size.arr[0])) {
                x1_520094333 = (x_520094332[0] + child_520094288.computed.arr[2]);
                }
                else {
                  x1_520094333 = (x_520094332[0] + max__system_u1192(0.0, (child_520094288.computed.arr[2] + eater_520094327)));
                }
                }
                var ix0_520094354 = x_520094332[0];
                var ix1_520094356 = min__system_u1159((maxX2_520094278 - child_520094288.margin.arr[2]), x1_520094333);
                child_520094288.computed.arr[0] = ix0_520094354;
                child_520094288.computed.arr[2] = (ix1_520094356 - ix0_520094354);
                extraMargin_520094326 = spacer_520094325;
                x_520094332[0] = (x1_520094333 + child_520094288.margin.arr[2]);
                child_520094288 = nextSibling__buju_u102(l_p0, child_520094288);
              }
          };
        }
    };

  
}

function arrangeStacked__buju_u664(l_p0, n_p1) {
    var computed_520094368 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094370 = computed_520094368.arr[2];
    var firstChild_520094371 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094372 = firstChild_520094371;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094372 == null))) break Label2;
          var used_520094376 = 0.0;
          var count_520094377 = 0;
          var squeezedCount_520094378 = 0;
          var total_520094379 = 0;
          var itemCount_520094380 = 0;
          var child_520094381 = startChild_520094372;
          var endChild_520094382 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094381 == null))) break Label4;
                itemCount_520094380 += 1;
                var extend_520094393 = ((used_520094376 + child_520094381.computed.arr[0]) + child_520094381.margin.arr[2]);
                if (((((((child_520094381.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                count_520094377 += 1;
                }
                else {
                  if ((child_520094381.size.arr[0] <= 0.0)) {
                  squeezedCount_520094378 += 1;
                  }
                  
                  extend_520094393 = (extend_520094393 + child_520094381.computed.arr[2]);
                }
                
                total_520094379 += 1;
                used_520094376 = extend_520094393;
                child_520094381 = nextSibling__buju_u102(l_p0, child_520094381);
              }
          };
          child_520094381 = startChild_520094372;
          startChild_520094372 = endChild_520094382;
          var extraSpace_520094416 = (space_520094370 - used_520094376);
          var filler_520094417 = 0.0;
          var spacer_520094418 = 0.0;
          var extraMargin_520094419 = 0.0;
          var eater_520094420 = 0.0;
          if ((0.0 < extraSpace_520094416)) {
          if ((0 < count_520094377)) {
          filler_520094417 = (extraSpace_520094416 / count_520094377);
          }
          else {
          if ((0 < total_520094379)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094380) || !((endChild_520094382 == null))))) {
            spacer_520094418 = (extraSpace_520094416 / (total_520094379 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094419 = extraSpace_520094416;
            }
          else{
            extraMargin_520094419 = (extraSpace_520094416 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_520094416 < 0.0) && (0 < squeezedCount_520094378))) {
            eater_520094420 = (extraSpace_520094416 / squeezedCount_520094378);
            }
            
          }
          
          var x_520094425 = [computed_520094368.arr[0]];
          var x1_520094426 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094381 == null)) && !((child_520094381 == endChild_520094382)))) break Label6;
                HEX2BHEX3D__buju_u406(x_520094425, 0, (child_520094381.computed.arr[0] + extraMargin_520094419));
                if (((((((child_520094381.layoutFlags & 31)) | 0) >> 0) & 5) == 5)) {
                x1_520094426 = (x_520094425[0] + filler_520094417);
                }
                else {
                if ((0.0 < child_520094381.size.arr[0])) {
                x1_520094426 = (x_520094425[0] + child_520094381.computed.arr[2]);
                }
                else {
                  x1_520094426 = (x_520094425[0] + max__system_u1192(0.0, (child_520094381.computed.arr[2] + eater_520094420)));
                }
                }
                var ix0_520094447 = x_520094425[0];
                var ix1_520094448 = x1_520094426;
                child_520094381.computed.arr[0] = ix0_520094447;
                child_520094381.computed.arr[2] = (ix1_520094448 - ix0_520094447);
                extraMargin_520094419 = spacer_520094418;
                x_520094425[0] = (x1_520094426 + child_520094381.margin.arr[2]);
                child_520094381 = nextSibling__buju_u102(l_p0, child_520094381);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u766(l_p0, n_p1) {
    var offset_520094469 = n_p1.computed.arr[0];
    var space_520094471 = n_p1.computed.arr[2];
    Label1: {
      var child_520094472 = null;
      var id_520095025 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095025))) break Label3;
            var node_520095027 = l_p0.nodes[((id_520095025 - 1) >>> 0)];
            id_520095025 = node_520095027.nextSibling;
            child_520094472 = node_520095027;
            if (            (((((child_520094472.layoutFlags & 31)) | 0) >> 0) & 5) == 5            ){              child_520094472.computed.arr[2] = max__system_u1192(0.0, ((space_520094471 - child_520094472.computed.arr[0]) - child_520094472.margin.arr[2]));
              }
            else if (            (((((child_520094472.layoutFlags & 31)) | 0) >> 0) & 5) == 4            ){              child_520094472.computed.arr[0] = ((((child_520094472.computed.arr[0] + space_520094471) - child_520094472.computed.arr[2]) - child_520094472.margin.arr[0]) - child_520094472.margin.arr[2]);
              }
            else if (            (((((child_520094472.layoutFlags & 31)) | 0) >> 0) & 5) == 1            ){              }
            else{
              child_520094472.computed.arr[0] = (child_520094472.computed.arr[0] + max__system_u1192(0.0, (((space_520094471 - child_520094472.computed.arr[2]) / 2.0) - child_520094472.margin.arr[2])));
              }
            child_520094472.computed.arr[0] = (child_520094472.computed.arr[0] + offset_520094469);
          }
      };
    };

  
}

function arrange__buju_u323(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (false) {
      arrangeStacked__buju_u329(l_p0, n_p1);
      var offset_520094188 = arrangeWrappedOverlaySqueezed__buju_u424(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094188 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094191 = null;
        var id_520095004 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u34(id_520095004))) break Label3;
              var node_520095006 = l_p0.nodes[((id_520095004 - 1) >>> 0)];
              id_520095004 = node_520095006.nextSibling;
              child_520094191 = node_520095006;
              arrange__buju_u323(l_p0, child_520094191);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (false) {
      (arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u569(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 0)) {
      arrangeStacked__buju_u664(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u439(l_p0, firstChild__buju_u53(l_p0, n_p1), null, n_p1.computed.arr[0], n_p1.computed.arr[2]);
      }
      
      }
    else{
      arrangeOverlay__buju_u766(l_p0, n_p1);
      }
    Label4: {
      var child_520094492 = null;
      var id_520095008 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u34(id_520095008))) break Label6;
            var node_520095010 = l_p0.nodes[((id_520095008 - 1) >>> 0)];
            id_520095008 = node_520095010.nextSibling;
            child_520094492 = node_520095010;
            arrange__buju_u323(l_p0, child_520094492);
          }
      };
    };
  };

  
}

function calcStackedSize__buju_u819(l_p0, n_p1) {
  var result_520094520 = 0.0;

    Label1: {
      var child_520094522 = null;
      var id_520095033 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095033))) break Label3;
            var node_520095035 = l_p0.nodes[((id_520095033 - 1) >>> 0)];
            id_520095033 = node_520095035.nextSibling;
            child_520094522 = node_520095035;
            var size_520094526 = ((child_520094522.computed.arr[1] + child_520094522.computed.arr[3]) + child_520094522.margin.arr[3]);
            result_520094520 = (result_520094520 + size_520094526);
          }
      };
    };

  return result_520094520;

}

function calcWrappedOverlayedSize__buju_u831(l_p0, n_p1) {
  var result_520094532 = 0.0;

    var needSize_520094534 = 0.0;
    var needSize2_520094535 = 0.0;
    Label1: {
      var child_520094536 = null;
      var id_520095037 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095037))) break Label3;
            var node_520095039 = l_p0.nodes[((id_520095037 - 1) >>> 0)];
            id_520095037 = node_520095039.nextSibling;
            child_520094536 = node_520095039;
            if (child_520094536.isBreak) {
            needSize2_520094535 = (needSize2_520094535 + needSize_520094534);
            needSize_520094534 = 0.0;
            }
            
            var size_520094540 = ((child_520094536.computed.arr[1] + child_520094536.computed.arr[3]) + child_520094536.margin.arr[3]);
            needSize_520094534 = max__system_u1192(needSize_520094534, size_520094540);
          }
      };
    };
    result_520094532 = (needSize_520094534 + needSize2_520094535);

  return result_520094532;

}

function calcOverlayedSize__buju_u850(l_p0, n_p1) {
  var result_520094551 = 0.0;

    Label1: {
      var child_520094553 = null;
      var id_520095041 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095041))) break Label3;
            var node_520095043 = l_p0.nodes[((id_520095041 - 1) >>> 0)];
            id_520095041 = node_520095043.nextSibling;
            child_520094553 = node_520095043;
            var size_520094557 = ((child_520094553.computed.arr[1] + child_520094553.computed.arr[3]) + child_520094553.margin.arr[3]);
            result_520094551 = max__system_u1196(size_520094557, result_520094551);
          }
      };
    };

  return result_520094551;

}

function calcSize__buju_u802(l_p0, n_p1) {
    var Temporary4;
      var Temporary5;

  BeforeRet: {
    Label1: {
      var child_520094504 = null;
      var id_520095029 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095029))) break Label3;
            var node_520095031 = l_p0.nodes[((id_520095029 - 1) >>> 0)];
            id_520095029 = node_520095031.nextSibling;
            child_520094504 = node_520095031;
            calcSize__buju_u802(l_p0, child_520094504);
          }
      };
    };
    n_p1.computed.arr[1] = n_p1.margin.arr[1];
    if ((0.0 < n_p1.size.arr[1])) {
    n_p1.computed.arr[3] = n_p1.size.arr[1];
    break BeforeRet;
    }
    
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      Temporary4 = calcStackedSize__buju_u819(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      Temporary4 = calcWrappedOverlayedSize__buju_u831(l_p0, n_p1);
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      Temporary5 = calcStackedSize__buju_u819(l_p0, n_p1);
      }
      else {
      Temporary5 = calcOverlayedSize__buju_u850(l_p0, n_p1);
      }
      
      Temporary4 = Temporary5;
      }
    else{
      Temporary4 = calcOverlayedSize__buju_u850(l_p0, n_p1);
      }
    n_p1.computed.arr[3] = Temporary4;
  };

  
}

function arrangeStacked__buju_u907(l_p0, n_p1) {
    var computed_520094611 = nimCopy(null, n_p1.computed, NTI654311814);
    var space_520094613 = computed_520094611.arr[3];
    var firstChild_520094614 = firstChild__buju_u53(l_p0, n_p1);
    var startChild_520094615 = firstChild_520094614;
    Label1: {
        Label2: while (true) {
        if (!!((startChild_520094615 == null))) break Label2;
          var used_520094619 = 0.0;
          var count_520094620 = 0;
          var squeezedCount_520094621 = 0;
          var total_520094622 = 0;
          var itemCount_520094623 = 0;
          var child_520094624 = startChild_520094615;
          var endChild_520094625 = null;
          Label3: {
              Label4: while (true) {
              if (!!((child_520094624 == null))) break Label4;
                itemCount_520094623 += 1;
                var extend_520094636 = ((used_520094619 + child_520094624.computed.arr[1]) + child_520094624.margin.arr[3]);
                if (((((((child_520094624.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                count_520094620 += 1;
                }
                else {
                  if ((child_520094624.size.arr[1] <= 0.0)) {
                  squeezedCount_520094621 += 1;
                  }
                  
                  extend_520094636 = (extend_520094636 + child_520094624.computed.arr[3]);
                }
                
                total_520094622 += 1;
                used_520094619 = extend_520094636;
                child_520094624 = nextSibling__buju_u102(l_p0, child_520094624);
              }
          };
          child_520094624 = startChild_520094615;
          startChild_520094615 = endChild_520094625;
          var extraSpace_520094659 = (space_520094613 - used_520094619);
          var filler_520094660 = 0.0;
          var spacer_520094661 = 0.0;
          var extraMargin_520094662 = 0.0;
          var eater_520094663 = 0.0;
          if ((0.0 < extraSpace_520094659)) {
          if ((0 < count_520094620)) {
          filler_520094660 = (extraSpace_520094659 / count_520094620);
          }
          else {
          if ((0 < total_520094622)) {
          if (          (n_p1.boxFlags & 24) == 24          ){            if ((true || ((0 < itemCount_520094623) || !((endChild_520094625 == null))))) {
            spacer_520094661 = (extraSpace_520094659 / (total_520094622 - 1));
            }
            
            }
          else if (          (n_p1.boxFlags & 24) == 8          ){            }
          else if (          (n_p1.boxFlags & 24) == 16          ){            extraMargin_520094662 = extraSpace_520094659;
            }
          else{
            extraMargin_520094662 = (extraSpace_520094659 / 2.0);
            }
          }
          }
          }
          else {
            if (((extraSpace_520094659 < 0.0) && (0 < squeezedCount_520094621))) {
            eater_520094663 = (extraSpace_520094659 / squeezedCount_520094621);
            }
            
          }
          
          var x_520094668 = [computed_520094611.arr[1]];
          var x1_520094669 = 0.0;
          Label5: {
              Label6: while (true) {
              if (!(!((child_520094624 == null)) && !((child_520094624 == endChild_520094625)))) break Label6;
                HEX2BHEX3D__buju_u406(x_520094668, 0, (child_520094624.computed.arr[1] + extraMargin_520094662));
                if (((((((child_520094624.layoutFlags & 31)) | 0) >> 1) & 5) == 5)) {
                x1_520094669 = (x_520094668[0] + filler_520094660);
                }
                else {
                if ((0.0 < child_520094624.size.arr[1])) {
                x1_520094669 = (x_520094668[0] + child_520094624.computed.arr[3]);
                }
                else {
                  x1_520094669 = (x_520094668[0] + max__system_u1192(0.0, (child_520094624.computed.arr[3] + eater_520094663)));
                }
                }
                var ix0_520094690 = x_520094668[0];
                var ix1_520094691 = x1_520094669;
                child_520094624.computed.arr[1] = ix0_520094690;
                child_520094624.computed.arr[3] = (ix1_520094691 - ix0_520094690);
                extraMargin_520094662 = spacer_520094661;
                x_520094668[0] = (x1_520094669 + child_520094624.margin.arr[3]);
                child_520094624 = nextSibling__buju_u102(l_p0, child_520094624);
              }
          };
        }
    };

  
}

function arrangeOverlay__buju_u1009(l_p0, n_p1) {
    var offset_520094712 = n_p1.computed.arr[1];
    var space_520094714 = n_p1.computed.arr[3];
    Label1: {
      var child_520094715 = null;
      var id_520095056 = n_p1.firstChild;
      Label2: {
          Label3: while (true) {
          if (!!(isNil__buju_u34(id_520095056))) break Label3;
            var node_520095058 = l_p0.nodes[((id_520095056 - 1) >>> 0)];
            id_520095056 = node_520095058.nextSibling;
            child_520094715 = node_520095058;
            if (            (((((child_520094715.layoutFlags & 31)) | 0) >> 1) & 5) == 5            ){              child_520094715.computed.arr[3] = max__system_u1192(0.0, ((space_520094714 - child_520094715.computed.arr[1]) - child_520094715.margin.arr[3]));
              }
            else if (            (((((child_520094715.layoutFlags & 31)) | 0) >> 1) & 5) == 4            ){              child_520094715.computed.arr[1] = ((((child_520094715.computed.arr[1] + space_520094714) - child_520094715.computed.arr[3]) - child_520094715.margin.arr[1]) - child_520094715.margin.arr[3]);
              }
            else if (            (((((child_520094715.layoutFlags & 31)) | 0) >> 1) & 5) == 1            ){              }
            else{
              child_520094715.computed.arr[1] = (child_520094715.computed.arr[1] + max__system_u1192(0.0, (((space_520094714 - child_520094715.computed.arr[3]) / 2.0) - child_520094715.margin.arr[3])));
              }
            child_520094715.computed.arr[1] = (child_520094715.computed.arr[1] + offset_520094712);
          }
      };
    };

  
}

function arrange__buju_u868(l_p0, n_p1) {
  BeforeRet: {
    if (    (((n_p1.boxFlags & 7)) | 0) == 7    ){      if (true) {
      arrangeStacked__buju_u329(l_p0, n_p1);
      var offset_520094582 = arrangeWrappedOverlaySqueezed__buju_u424(l_p0, n_p1);
      n_p1.computed.arr[2] = (offset_520094582 - n_p1.computed.arr[0]);
      Label1: {
        var child_520094585 = null;
        var id_520095045 = n_p1.firstChild;
        Label2: {
            Label3: while (true) {
            if (!!(isNil__buju_u34(id_520095045))) break Label3;
              var node_520095047 = l_p0.nodes[((id_520095045 - 1) >>> 0)];
              id_520095045 = node_520095047.nextSibling;
              child_520094585 = node_520095047;
              arrange__buju_u323(l_p0, child_520094585);
            }
        };
      };
      }
      else {
        break BeforeRet;
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 6    ){      if (true) {
      (arrangeWrappedOverlaySqueezed__buju_u501(l_p0, n_p1));
      }
      else {
      arrangeStacked__buju_u569(l_p0, n_p1);
      }
      
      }
    else if (    (((n_p1.boxFlags & 7)) | 0) == 3 || 
    (((n_p1.boxFlags & 7)) | 0) == 2    ){      if (((((n_p1.boxFlags & 1)) | 0) == 1)) {
      arrangeStacked__buju_u907(l_p0, n_p1);
      }
      else {
      arrangeOverlaySqueezedRange__buju_u516(l_p0, firstChild__buju_u53(l_p0, n_p1), null, n_p1.computed.arr[1], n_p1.computed.arr[3]);
      }
      
      }
    else{
      arrangeOverlay__buju_u1009(l_p0, n_p1);
      }
    Label4: {
      var child_520094735 = null;
      var id_520095049 = n_p1.firstChild;
      Label5: {
          Label6: while (true) {
          if (!!(isNil__buju_u34(id_520095049))) break Label6;
            var node_520095051 = l_p0.nodes[((id_520095049 - 1) >>> 0)];
            id_520095049 = node_520095051.nextSibling;
            child_520094735 = node_520095051;
            arrange__buju_u868(l_p0, child_520094735);
          }
      };
    };
  };

  
}

function compute__buju_u236(l_p0, n_p1) {
    calcSize__buju_u241(l_p0, n_p1);
    arrange__buju_u323(l_p0, n_p1);
    calcSize__buju_u802(l_p0, n_p1);
    arrange__buju_u868(l_p0, n_p1);

  
}

function compute(l_p0, id_p1) {
    var l_520094972 = l_p0;
    var node_520094976 = l_520094972.nodes[((id_p1 - 1) >>> 0)];
    compute__buju_u236(l_520094972, node_520094976);

  
}

function computed(l_p0, id_p1) {
  var result_520094980 = ({arr: new Float32Array(4)});

    var l_520094981 = l_p0;
    var node_520094985 = l_520094981.nodes[((id_p1 - 1) >>> 0)];
    result_520094980 = nimCopy(result_520094980, node_520094985.computed, NTI654311814);

  return result_520094980;

}
